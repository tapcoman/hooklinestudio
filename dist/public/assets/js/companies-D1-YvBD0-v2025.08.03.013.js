import{f as k,r as o,aU as E,e as q,j as e,i as B,aD as f,aE as L,aa as z,aZ as M,aX as V}from"./react-vendor-DGdGViT9-v2025.08.03.013.js";import{u as I,q as R,d as C,B as r,L as d,I as N,i as u,j,k as p,l as v,m as n,C as H,o as Y,p as G,b as K}from"./index-0qqAfkP9-v2025.08.03.013.js";import{T as O}from"./textarea-CzT6NmIp-v2025.08.03.013.js";import{D as P,a as Q,b as U,c as X,d as Z}from"./dialog-YvmLrxmp-v2025.08.03.013.js";import"./vendor-Dq3tu9fQ-v2025.08.03.013.js";import"./utils-vendor-BTGVH9Kg-v2025.08.03.013.js";function ie(){const[,w]=k(),{toast:c}=I(),[b,x]=o.useState(!1),[m,$]=o.useState(null),{data:a,isLoading:T}=E({queryKey:["/api/users/me"],queryFn:()=>C("GET","/api/users/me").then(s=>s.json())}),[y,h]=o.useState([{id:"1",company:(a==null?void 0:a.company)||"Current Company",industry:(a==null?void 0:a.industry)||"Technology",role:(a==null?void 0:a.role)||"Creator",audience:(a==null?void 0:a.audience)||"General audience",voice:(a==null?void 0:a.voice)||"Friendly",safety:(a==null?void 0:a.safety)||"standard",bannedTerms:(a==null?void 0:a.bannedTerms)||[],isActive:!0}]),[t,l]=o.useState({company:"",industry:"",role:"",audience:"",voice:"friendly",safety:"standard",bannedTerms:[]}),g=q({mutationFn:async s=>(await C("PUT","/api/users/me",{company:s.company,industry:s.industry,role:s.role,audience:s.audience,voice:s.voice,safety:s.safety,bannedTerms:s.bannedTerms})).json(),onSuccess:()=>{R.invalidateQueries({queryKey:["/api/users/me"]}),h(s=>s.map(i=>({...i,isActive:i.id===(m==null?void 0:m.id)}))),c({title:"Company switched",description:"Your active company profile has been updated."})},onError:s=>{c({title:"Switch failed",description:s.message,variant:"destructive"})}}),S=s=>{g.mutate(s)},A=()=>{if(!t.company.trim()){c({title:"Company name required",description:"Please enter a company name.",variant:"destructive"});return}const s={...t,id:Date.now().toString(),isActive:!1};h(i=>[...i,s]),l({company:"",industry:"",role:"",audience:"",voice:"friendly",safety:"standard",bannedTerms:[]}),x(!1),c({title:"Company added",description:"New company profile has been created."})},F=s=>{h(i=>i.filter(D=>D.id!==s)),c({title:"Company deleted",description:"Company profile has been removed."})};return T?e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"Loading companies..."})]})}):e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx("div",{className:"bg-white border-b border-slate-200 px-6 py-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto flex items-center space-x-4",children:[e.jsxs(r,{variant:"ghost",size:"sm",onClick:()=>w("/profile"),className:"flex items-center space-x-2",children:[e.jsx(B,{className:"w-4 h-4"}),e.jsx("span",{children:"Back to Profile"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(f,{className:"w-6 h-6 text-slate-600"}),e.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Manage Companies"})]})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-slate-600 mb-4",children:"Manage multiple company profiles to switch between different brand contexts when generating hooks."}),e.jsxs(P,{open:b,onOpenChange:x,children:[e.jsx(Q,{asChild:!0,children:e.jsxs(r,{className:"flex items-center space-x-2",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Company"})]})}),e.jsxs(U,{className:"max-w-2xl",children:[e.jsx(X,{children:e.jsx(Z,{children:"Add New Company Profile"})}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"new-company",children:"Company Name *"}),e.jsx(N,{id:"new-company",value:t.company,onChange:s=>l(i=>({...i,company:s.target.value})),placeholder:"Company name"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"new-role",children:"Your Role"}),e.jsx(N,{id:"new-role",value:t.role,onChange:s=>l(i=>({...i,role:s.target.value})),placeholder:"Your role at this company"})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"new-industry",children:"Industry"}),e.jsxs(u,{value:t.industry,onValueChange:s=>l(i=>({...i,industry:s})),children:[e.jsx(j,{children:e.jsx(p,{placeholder:"Select industry"})}),e.jsxs(v,{children:[e.jsx(n,{value:"technology",children:"Technology"}),e.jsx(n,{value:"healthcare",children:"Healthcare"}),e.jsx(n,{value:"finance",children:"Finance"}),e.jsx(n,{value:"education",children:"Education"}),e.jsx(n,{value:"retail",children:"Retail"}),e.jsx(n,{value:"fitness",children:"Fitness"}),e.jsx(n,{value:"food",children:"Food & Beverage"}),e.jsx(n,{value:"beauty",children:"Beauty & Fashion"}),e.jsx(n,{value:"entertainment",children:"Entertainment"}),e.jsx(n,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"new-audience",children:"Target Audience"}),e.jsx(O,{id:"new-audience",value:t.audience,onChange:s=>l(i=>({...i,audience:s.target.value})),placeholder:"Describe the target audience for this company",className:"h-20"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{children:"Brand Voice"}),e.jsxs(u,{value:t.voice,onValueChange:s=>l(i=>({...i,voice:s})),children:[e.jsx(j,{children:e.jsx(p,{})}),e.jsxs(v,{children:[e.jsx(n,{value:"friendly",children:"Friendly"}),e.jsx(n,{value:"authoritative",children:"Authoritative"}),e.jsx(n,{value:"playful",children:"Playful"}),e.jsx(n,{value:"contrarian",children:"Contrarian"}),e.jsx(n,{value:"luxury",children:"Luxury"}),e.jsx(n,{value:"minimal",children:"Minimal"})]})]})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Content Safety"}),e.jsxs(u,{value:t.safety,onValueChange:s=>l(i=>({...i,safety:s})),children:[e.jsx(j,{children:e.jsx(p,{})}),e.jsxs(v,{children:[e.jsx(n,{value:"family-friendly",children:"Family-friendly"}),e.jsx(n,{value:"standard",children:"Standard"}),e.jsx(n,{value:"edgy",children:"Edgy"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[e.jsx(r,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),e.jsx(r,{onClick:A,children:"Add Company"})]})]})]})]})]}),e.jsx("div",{className:"grid gap-4",children:y.map(s=>e.jsxs(H,{className:`${s.isActive?"ring-2 ring-primary":""}`,children:[e.jsx(Y,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(f,{className:"w-5 h-5 text-slate-600"}),e.jsxs("div",{children:[e.jsx(G,{className:"text-lg",children:s.company}),e.jsxs("p",{className:"text-sm text-slate-500",children:[s.role," â€¢ ",s.industry]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.isActive&&e.jsxs("div",{className:"flex items-center space-x-1 text-green-600 text-sm font-medium",children:[e.jsx(z,{className:"w-4 h-4"}),e.jsx("span",{children:"Active"})]}),!s.isActive&&e.jsx(r,{variant:"outline",size:"sm",onClick:()=>S(s),disabled:g.isPending,children:"Switch to this"}),e.jsx(r,{variant:"ghost",size:"sm",children:e.jsx(M,{className:"w-4 h-4"})}),y.length>1&&e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>F(s.id),children:e.jsx(V,{className:"w-4 h-4"})})]})]})}),e.jsx(K,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-700",children:"Audience"}),e.jsx("p",{className:"text-slate-600",children:s.audience||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-700",children:"Voice"}),e.jsx("p",{className:"text-slate-600 capitalize",children:s.voice})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-700",children:"Safety"}),e.jsx("p",{className:"text-slate-600 capitalize",children:s.safety})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-700",children:"Banned Terms"}),e.jsxs("p",{className:"text-slate-600",children:[s.bannedTerms.length," terms"]})]})]})})]},s.id))})]})]})}export{ie as default};
