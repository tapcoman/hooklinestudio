const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/hook-results-DnZvNcUo-v2025.08.03.010.js","assets/js/react-vendor-CTpIrEzv-v2025.08.03.010.js","assets/js/vendor-DOYiqK_t-v2025.08.03.010.js","assets/js/utils-vendor-BkLtITBR-v2025.08.03.010.js","assets/js/index-BIRwcLTk-v2025.08.03.010.js","assets/js/ui-vendor-DJYb332p-v2025.08.03.010.js","assets/css/index-B73sGp3t.css","assets/js/trimodal-hook-results-E_CG0Qhe-v2025.08.03.010.js","assets/js/separator-BACKhKa6-v2025.08.03.010.js"])))=>i.map(i=>d[i]);
import{a as te,c as O,S as le,e as ie,B as l,f as re,g as oe,h as ne,L as $,i as ce,j as de,k as me,l as xe,m as he,u as ue,C as be,n as M,b as pe,q as ee,d as I,E as Ge,_ as je}from"./index-BIRwcLTk-v2025.08.03.010.js";import{r as h,j as e,N as Fe,X as fe,av as ve,aw as R,ax as D,ay as Y,az as ge,aA as Q,aB as Ne,aC as we,aD as ke,aE as ye,aF as ze,aG as Ve,ak as Ae,I as V,J as A,K as _,aH as W,B as _e,aI as Oe,aJ as Re,aK as De,aL as Ue,aM as qe,aN as Be,aO as B,f as se,au as ae,$ as Ke}from"./react-vendor-CTpIrEzv-v2025.08.03.010.js";import{T as Ce}from"./textarea-C5CxdgLW-v2025.08.03.010.js";import{S as Se}from"./separator-BACKhKa6-v2025.08.03.010.js";import{D as Te,a as Me,b as He,c as L,d as Le}from"./dropdown-menu-0cin_x9T-v2025.08.03.010.js";import{V as Pe}from"./vendor-DOYiqK_t-v2025.08.03.010.js";import{S as We}from"./subscription-modal-B3pYLjzg-v2025.08.03.010.js";import"./utils-vendor-BkLtITBR-v2025.08.03.010.js";import"./ui-vendor-DJYb332p-v2025.08.03.010.js";import"./dialog-Dz6O2uwK-v2025.08.03.010.js";const K=768;function Ye(){const[t,d]=h.useState(void 0);return h.useEffect(()=>{const j=window.matchMedia(`(max-width: ${K-1}px)`),n=()=>{d(window.innerWidth<K)};return j.addEventListener("change",n),d(window.innerWidth<K),()=>j.removeEventListener("change",n)},[]),!!t}function Qe({isOpen:t,onClose:d,creditInfo:j}){return e.jsx(We,{isOpen:t,onClose:d,showDiscountOffer:j?.isAtLimit,currentCredits:j?.remainingCredits||0})}function Xe({user:t,credits:d,onNewHook:j}){const[,n]=Pe(),{logoutMutation:a}=te(),[r,b]=h.useState(!1),p="/assets/logo.png",c=()=>b(!1),x=[{icon:D,label:"New Hook",action:()=>{j?.(),c()},isPrimary:!0},{icon:Y,label:"Favorites",action:()=>{n("/favorites"),c()}},{icon:ge,label:"History",action:()=>{n("/history"),c()}},{icon:Q,label:"Profile Settings",action:()=>{n("/profile"),c()}},{icon:R,label:"Manage Companies",action:()=>{n("/profile/companies"),c()}},{icon:Ne,label:"Billing & Plans",action:()=>{n("/billing"),c()}}];return e.jsx("div",{className:"bg-white border-b border-slate-200 px-4 py-3 sticky top-0 z-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:p,alt:"Hook Line Studio",className:"w-8 h-8 object-contain"}),e.jsx("span",{className:"font-semibold text-slate-900 text-sm",children:"HLS"})]}),e.jsxs("div",{className:"flex items-center",children:[d&&!t?.isPremium&&e.jsxs(O,{variant:"secondary",className:"bg-amber-50 text-amber-700 border-amber-200 text-xs px-2 py-1",children:[d.remainingCredits," credits"]}),t?.isPremium&&e.jsx(O,{className:"bg-blue-600 text-white text-xs px-2 py-1",children:"Premium"})]}),e.jsxs(le,{open:r,onOpenChange:b,children:[e.jsx(ie,{asChild:!0,children:e.jsx(l,{variant:"ghost",size:"sm",className:"p-2",children:e.jsx(Fe,{className:"w-5 h-5"})})}),e.jsxs(re,{side:"right",className:"w-80 p-0",children:[e.jsxs(oe,{className:"p-6 pb-4 border-b border-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ne,{className:"text-lg font-semibold",children:"Menu"}),e.jsx(l,{variant:"ghost",size:"sm",onClick:c,className:"p-1 h-auto",children:e.jsx(fe,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center space-x-3 mt-4",children:[t?.profileImageUrl?e.jsx("img",{src:t.profileImageUrl,alt:"Profile",className:"w-10 h-10 rounded-full object-cover"}):e.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center",children:e.jsx(ve,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"font-medium text-slate-900 text-sm",children:t?.firstName||t?.email}),e.jsx("p",{className:"text-xs text-slate-500",children:t?.email})]})]}),t?.company&&e.jsxs("div",{className:"flex items-center space-x-2 mt-3 p-2 bg-slate-50 rounded-lg",children:[e.jsx(R,{className:"w-4 h-4 text-slate-600"}),e.jsx("span",{className:"text-sm text-slate-700",children:t.company})]})]}),e.jsx("div",{className:"p-6 space-y-2",children:x.map((m,i)=>{const v=m.icon;return e.jsxs(l,{variant:m.isPrimary?"default":"ghost",className:`w-full justify-start h-12 text-left ${m.isPrimary?"bg-blue-600 hover:bg-blue-700 text-white":"hover:bg-slate-50"}`,onClick:m.action,children:[e.jsx(v,{className:"w-5 h-5 mr-3"}),e.jsx("span",{className:"font-medium",children:m.label})]},i)})}),e.jsx("div",{className:"absolute bottom-6 left-6 right-6",children:e.jsxs(l,{variant:"outline",className:"w-full justify-start h-12 border-red-200 text-red-600 hover:bg-red-50",onClick:()=>{a.mutate(),c()},children:[e.jsx(we,{className:"w-5 h-5 mr-3"}),e.jsx("span",{className:"font-medium",children:"Log out"})]})})]})]})]})})}function Je({onExport:t,onGenerateMore:d,onNewHook:j,onToggleView:n,isExporting:a=!1,isGenerating:r=!1,useTriModalView:b=!0,hasHooks:p=!1,className:c=""}){return e.jsxs("nav",{className:`bg-white border-t border-slate-200 px-4 py-3 safe-area-padding-bottom ${c}`,role:"navigation","aria-label":"Primary actions",children:[e.jsxs("div",{className:"flex items-center justify-between space-x-3",children:[e.jsxs(l,{onClick:j,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white h-12 font-medium shadow-sm touch-target","aria-label":"Create new hook",children:[e.jsx(D,{className:"w-5 h-5 mr-2","aria-hidden":"true"}),"New Hook"]}),e.jsxs(l,{variant:"outline",onClick:t,disabled:!p||a,className:"h-12 px-4 border-slate-200 touch-target","aria-label":a?"Exporting hooks...":"Export hooks to CSV",children:[e.jsx(ke,{className:"w-5 h-5","aria-hidden":"true"}),a&&e.jsx("span",{className:"ml-2 text-xs",children:"..."})]}),e.jsxs(l,{variant:"outline",onClick:d,disabled:!p||r,className:"h-12 px-4 border-slate-200 touch-target","aria-label":r?"Generating more hooks...":"Generate 10 more hooks",children:[e.jsx(ye,{className:`w-5 h-5 ${r?"animate-spin":""}`,"aria-hidden":"true"}),r&&e.jsx("span",{className:"ml-2 text-xs",children:"..."})]}),e.jsxs(Te,{children:[e.jsx(Me,{asChild:!0,children:e.jsx(l,{variant:"outline",className:"h-12 px-4 border-slate-200 touch-target","aria-label":"More options",children:e.jsx(ze,{className:"w-5 h-5","aria-hidden":"true"})})}),e.jsxs(He,{align:"end",side:"top",className:"w-56 mb-2",children:[e.jsxs(L,{onClick:n,className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[b?e.jsx(Ve,{className:"mr-2 h-4 w-4"}):e.jsx(Ae,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:b?"Classic View":"Tri-Modal View"})]}),b&&e.jsx(O,{variant:"secondary",className:"bg-purple-100 text-purple-700 text-xs",children:"✨"})]}),e.jsx(Le,{}),e.jsxs(L,{children:[e.jsx(Q,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Settings"})]})]})]})]}),(a||r)&&e.jsx("div",{className:"mt-2 flex justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-slate-600",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse"}),e.jsxs("span",{children:[a&&"Exporting hooks...",r&&"Generating new hooks..."]})]})})]})}function Ze({isOpen:t,onOpenChange:d,selectedPlatform:j,setSelectedPlatform:n,objective:a,setObjective:r,topic:b,setTopic:p,onGenerate:c,isGenerating:x,generations:m,setCurrentGeneration:i,trigger:v}){const u=[{value:"tiktok",label:"TikTok",icon:V,color:"bg-black",textColor:"text-white"},{value:"instagram",label:"Reels",icon:A,color:"bg-gradient-to-r from-purple-500 to-pink-500",textColor:"text-white"},{value:"youtube",label:"Shorts",icon:_,color:"bg-red-600",textColor:"text-white"}],f=[{value:"watch_time",label:"Watch time"},{value:"shares",label:"Shares"},{value:"saves",label:"Saves"},{value:"ctr",label:"Click-through rate"}],C=()=>{c(),d(!1)};return e.jsxs(le,{open:t,onOpenChange:d,children:[v&&e.jsx(ie,{asChild:!0,children:v}),e.jsxs(re,{side:"left",className:"w-full sm:w-96 p-0",children:[e.jsx(oe,{className:"p-6 pb-4 border-b border-slate-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ne,{className:"text-lg font-semibold",children:"Create New Hooks"}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>d(!1),className:"p-1 h-auto",children:e.jsx(fe,{className:"w-4 h-4"})})]})}),e.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto h-full pb-24",children:[e.jsxs("div",{children:[e.jsx($,{className:"text-sm font-medium text-slate-700 mb-3 block",children:"Platform"}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:u.map(o=>{const N=j===o.value,S=o.icon;return e.jsxs(l,{type:"button",variant:"outline",className:`p-4 h-auto flex items-center space-x-3 text-left relative overflow-hidden ${N?`${o.color} ${o.textColor} border-transparent`:"bg-white hover:bg-slate-50 border-slate-200"}`,onClick:()=>n(o.value),children:[e.jsx(S,{className:`text-xl ${N?o.textColor:o.value==="tiktok"?"text-black":o.value==="instagram"?"text-pink-500":"text-red-600"}`}),e.jsx("span",{className:`font-medium ${N?o.textColor:"text-slate-700"}`,children:o.label})]},o.value)})})]}),e.jsxs("div",{children:[e.jsx($,{htmlFor:"objective",className:"text-sm font-medium text-slate-700 mb-2 block",children:"Objective"}),e.jsxs(ce,{value:a,onValueChange:o=>r(o),children:[e.jsx(de,{className:"h-12",children:e.jsx(me,{})}),e.jsx(xe,{children:f.map(o=>e.jsx(he,{value:o.value,children:o.label},o.value))})]})]}),e.jsxs("div",{children:[e.jsx($,{htmlFor:"topic",className:"text-sm font-medium text-slate-700 mb-2 block",children:"Video Topic"}),e.jsx(Ce,{id:"topic",placeholder:"Describe your video idea... e.g., '7-day sugar-free experiment results'",value:b,onChange:o=>p(o.target.value),className:"h-32 resize-none text-sm","aria-describedby":"topic-description","aria-label":"Video topic description"}),e.jsx("p",{id:"topic-description",className:"text-xs text-slate-500 mt-2",children:"Be specific about what your video will cover for better hook generation"})]}),e.jsx("div",{children:e.jsxs(l,{className:"w-full py-4 text-lg font-semibold shadow-lg hover:shadow-xl bg-blue-600 hover:bg-blue-700",onClick:C,disabled:x||!b.trim(),children:[e.jsx(W,{className:`w-5 h-5 mr-2 ${x?"animate-spin":""}`}),x?"Generating...":"Generate 10 Hooks"]})}),m&&m.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Se,{}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-3",children:"Recent Topics"}),e.jsx("div",{className:"space-y-2",children:m.slice(0,5).map(o=>e.jsx(l,{variant:"ghost",className:"w-full justify-start h-auto p-3 bg-slate-50 hover:bg-slate-100",onClick:()=>{i?.(o),d(!1)},children:e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm text-slate-900 font-medium truncate",children:o.topic}),e.jsxs("p",{className:"text-xs text-slate-500",children:[o.platform," • ",o.createdAt?new Date(o.createdAt).toLocaleDateString():""]})]})},o.id))})]})]})]})]})]})}function es({hook:t,framework:d,rationale:j,score:n,index:a=1,total:r=10,onNext:b,onPrevious:p,onSave:c,isDemo:x=!1,isFavorited:m=!1,className:i}){const{toast:v}=ue(),[u,f]=h.useState(m),C=async()=>{try{await navigator.clipboard.writeText(t),v({title:"Copied to clipboard!",description:"Hook text has been copied to your clipboard."})}catch{v({title:"Copy failed",description:"Unable to copy to clipboard. Please try again.",variant:"destructive"})}},o=async()=>{if(navigator.share)try{await navigator.share({title:"Hook Line Studio - Generated Hook",text:t})}catch{console.log("Share cancelled")}else C()},N=()=>{f(!u),c?.(),v({title:u?"Removed from favorites":"Added to favorites",description:u?"Hook removed from your favorites.":"Hook saved to your favorites."})};return e.jsx(be,{className:M("w-full max-w-sm mx-auto bg-white shadow-sm border-slate-200",i),role:"article","aria-label":`Hook ${a} of ${r}: ${t}`,children:e.jsxs(pe,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",role:"navigation","aria-label":"Hook navigation",children:[e.jsx("div",{className:"flex space-x-1",role:"progressbar","aria-label":`Progress: ${a} of ${r} hooks`,"aria-valuenow":a,"aria-valuemin":1,"aria-valuemax":r,children:Array.from({length:r},(S,y)=>e.jsx("div",{className:M("w-1.5 h-1.5 rounded-full transition-colors",y<a?"bg-blue-600":"bg-slate-200"),"aria-hidden":"true"},y))}),e.jsxs("span",{className:"text-xs text-slate-500 font-medium","aria-live":"polite",children:[a," of ",r]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("blockquote",{className:"text-lg leading-relaxed font-medium text-slate-900 text-center",children:['"',t,'"']})}),e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(O,{variant:"secondary",className:"bg-blue-50 text-blue-700 border-blue-200 font-medium px-3 py-1",children:d}),n&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(_e,{className:"w-4 h-4 text-amber-500 fill-current"}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:n})]})]})}),!x&&e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",role:"group","aria-label":"Hook actions",children:[e.jsxs(l,{variant:"outline",size:"sm",onClick:N,className:M("h-12 flex-col space-y-1 text-xs border-slate-200 touch-target",u&&"bg-red-50 border-red-200 text-red-600"),"aria-label":u?"Remove hook from favorites":"Add hook to favorites","aria-pressed":u,children:[e.jsx(Y,{className:M("w-4 h-4",u&&"fill-current"),"aria-hidden":"true"}),e.jsx("span",{children:u?"Saved":"Save"})]}),e.jsxs(l,{variant:"outline",size:"sm",onClick:C,className:"h-12 flex-col space-y-1 text-xs border-slate-200 touch-target","aria-label":"Copy hook text to clipboard",children:[e.jsx(Oe,{className:"w-4 h-4","aria-hidden":"true"}),e.jsx("span",{children:"Copy"})]}),e.jsxs(l,{variant:"outline",size:"sm",onClick:o,className:"h-12 flex-col space-y-1 text-xs border-slate-200 touch-target","aria-label":"Share hook",children:[e.jsx(Re,{className:"w-4 h-4","aria-hidden":"true"}),e.jsx("span",{children:"Share"})]})]}),!x&&(b||p)&&e.jsxs("div",{className:"flex justify-between items-center",role:"navigation","aria-label":"Hook navigation controls",children:[e.jsx(l,{variant:"ghost",size:"sm",onClick:p,disabled:a===1,className:"h-10 px-4 text-slate-600 disabled:opacity-30 touch-target","aria-label":"Go to previous hook",children:"← Previous"}),e.jsx(l,{variant:"ghost",size:"sm",onClick:b,disabled:a===r,className:"h-10 px-4 text-slate-600 disabled:opacity-30 touch-target","aria-label":"Go to next hook",children:"Next →"})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-slate-100",children:e.jsx("p",{className:"text-xs text-slate-500 text-center leading-relaxed",children:j})})]})})}function ss(t,d){const[j,n]=h.useState(null),[a,r]=h.useState(null),b=50;return{onTouchStart:m=>{r(null),n(m.targetTouches[0].clientX)},onTouchMove:m=>{r(m.targetTouches[0].clientX)},onTouchEnd:()=>{if(!j||!a)return;const m=j-a,i=m>b,v=m<-b;i&&t&&t(),v&&d&&d()}}}function as({generation:t,userId:d,useTriModalView:j=!0,className:n}){const[a,r]=h.useState(0),[b,p]=h.useState("single"),c=t.hooks||[],x=c[a],m=()=>{a<c.length-1&&r(a+1)},i=()=>{a>0&&r(a-1)},v=ss(m,i);return h.useEffect(()=>{const u=f=>{f.key==="ArrowLeft"?i():f.key==="ArrowRight"&&m()};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[a]),c.length?b==="grid"?e.jsxs("div",{className:M("space-y-4",n),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"All Hooks"}),e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>p("single"),className:"text-xs",children:[e.jsx(De,{className:"w-4 h-4 mr-1"}),"Card View"]})]}),e.jsx("div",{className:"space-y-3",children:c.map((u,f)=>e.jsxs("div",{className:"p-4 bg-white rounded-lg border border-slate-200 cursor-pointer hover:bg-slate-50 transition-colors",onClick:()=>{r(f),p("single")},children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("p",{className:"text-sm font-medium text-slate-900 flex-1 line-clamp-2",children:['"',u.hook,'"']}),e.jsxs("span",{className:"text-xs text-slate-500 ml-2",children:["#",f+1]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded",children:u.framework}),u.score&&e.jsxs("span",{className:"text-xs text-amber-600 font-medium",children:["⭐ ",u.score]})]})]},f))})]}):e.jsxs("div",{className:M("space-y-4",n),...v,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(l,{variant:"outline",size:"sm",onClick:i,disabled:a===0,className:"h-9 w-9 p-0",children:e.jsx(Ue,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm font-medium text-slate-700",children:["Hook ",a+1," of ",c.length]}),e.jsx(l,{variant:"outline",size:"sm",onClick:m,disabled:a===c.length-1,className:"h-9 w-9 p-0",children:e.jsx(qe,{className:"w-4 h-4"})})]}),e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>p("grid"),className:"text-xs",children:[e.jsx(Be,{className:"w-4 h-4 mr-1"}),"Grid View"]})]}),e.jsx("div",{className:"flex justify-center",children:x&&e.jsx(es,{hook:x.hook,framework:x.framework,rationale:x.rationale,score:x.score,index:a+1,total:c.length,onNext:m,onPrevious:i,className:"w-full max-w-sm"})}),e.jsx("div",{className:"flex justify-center space-x-2 py-4",children:c.map((u,f)=>e.jsx("button",{onClick:()=>r(f),className:M("w-2 h-2 rounded-full transition-all duration-200",f===a?"bg-blue-600 w-6":"bg-slate-300 hover:bg-slate-400"),"aria-label":`Go to hook ${f+1}`},f))}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-xs text-slate-500",children:"Swipe left or right to navigate between hooks"})})]}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("p",{className:"text-slate-500",children:"No hooks generated yet."})})}function ts(){return e.jsx("div",{className:"w-full max-w-sm mx-auto bg-white shadow-sm border-slate-200 rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"flex space-x-1",children:Array.from({length:10},(t,d)=>e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-200 animate-pulse"},d))}),e.jsx("div",{className:"w-12 h-4 bg-slate-200 rounded animate-pulse"})]}),e.jsxs("div",{className:"mb-6 space-y-2",children:[e.jsx("div",{className:"h-4 bg-slate-200 rounded animate-pulse"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded animate-pulse w-3/4"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded animate-pulse w-1/2"})]}),e.jsxs("div",{className:"flex items-center justify-center mb-6 space-x-3",children:[e.jsx("div",{className:"w-20 h-6 bg-slate-200 rounded-full animate-pulse"}),e.jsx("div",{className:"w-12 h-6 bg-slate-200 rounded animate-pulse"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:Array.from({length:3},(t,d)=>e.jsx("div",{className:"h-12 bg-slate-200 rounded animate-pulse"},d))}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"w-16 h-8 bg-slate-200 rounded animate-pulse"}),e.jsx("div",{className:"w-16 h-8 bg-slate-200 rounded animate-pulse"})]})]})})}const ls=h.lazy(()=>je(()=>import("./hook-results-DnZvNcUo-v2025.08.03.010.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),is=h.lazy(()=>je(()=>import("./trimodal-hook-results-E_CG0Qhe-v2025.08.03.010.js"),__vite__mapDeps([7,1,2,3,4,5,6,8]))),rs="/assets/logo.png";function js(){const{toast:t}=ue(),{logoutMutation:d,user:j,backendUser:n}=te(),[,a]=Pe(),[r,b]=h.useState("tiktok"),[p,c]=h.useState("watch_time"),[x,m]=h.useState(""),[i,v]=h.useState(null),[u,f]=h.useState(!1),[C,o]=h.useState(void 0),[N,S]=h.useState(!1),[y,U]=h.useState(!0),[Ee,P]=h.useState(!1),w=Ye(),{data:k}=B({queryKey:["/api/users/me"],queryFn:()=>I("GET","/api/users/me").then(s=>s.json())}),{data:G}=B({queryKey:["/api/credits/check"],queryFn:()=>I("GET","/api/credits/check").then(s=>s.json()),refetchInterval:6e4,staleTime:3e4}),{data:T}=B({queryKey:["/api/generations"],queryFn:()=>I("GET","/api/generations").then(s=>s.json()),staleTime:300*1e3,gcTime:600*1e3,refetchOnWindowFocus:!1});useEffect(()=>{T&&T.length>0&&!i&&v(T[0])},[T,i]);const X=se({mutationFn:async s=>{S(!0);try{const g=await I("POST","/api/generate-hooks",s);if(!g.ok){const H=await g.json();throw g.status===403&&H.error==="Credit limit reached"?(o({remainingCredits:H.remainingCredits||0,isAtLimit:!0}),f(!0),new Error("Credit limit reached")):new Error(H.message||"Failed to generate hooks")}const E=await g.json();return S(!1),E}catch(g){throw S(!1),g}},onSuccess:s=>{v(s),ee.invalidateQueries({queryKey:["/api/generations"]}),ee.invalidateQueries({queryKey:["/api/credits/check"]}),t({title:"Hooks generated successfully!",description:`Generated ${s.hooks?.length||0} hooks for ${r}`})},onError:s=>{const g=s instanceof Error?s.message:"Something went wrong";g!=="Credit limit reached"&&t({title:"Error generating hooks",description:g,variant:"destructive"})}}),F=se({mutationFn:async s=>{const E=await(await I("POST","/api/export-csv",{generationId:s})).blob(),H=window.URL.createObjectURL(E),q=document.createElement("a");q.href=H,q.download=`hooks-${r}-${Date.now()}.csv`,q.click(),window.URL.revokeObjectURL(H)},onSuccess:()=>{t({title:"CSV exported successfully!",description:"Your hooks have been downloaded as a CSV file."})},onError:s=>{const g=s instanceof Error?s.message:"Something went wrong";t({title:"Export failed",description:g,variant:"destructive"})}}),z=h.useCallback(()=>{if(!n?.id){t({title:"No user profile found",description:"Please complete onboarding first.",variant:"destructive"});return}if(!x.trim()){t({title:"Topic required",description:"Please describe your video idea.",variant:"destructive"});return}X.mutate({platform:r,objective:p,topic:x.trim()})},[n?.id,x,r,p,X,t]),J=()=>{i?.id&&F.mutate(i.id)},Z=()=>{z()},Ie=useMemo(()=>[{value:"tiktok",label:"TikTok",icon:"TikTok",color:"bg-black",textColor:"text-white"},{value:"instagram",label:"Reels",icon:"Instagram",color:"bg-gradient-to-r from-purple-500 to-pink-500",textColor:"text-white"},{value:"youtube",label:"Shorts",icon:"YouTube",color:"bg-red-600",textColor:"text-white"}],[]),$e=useMemo(()=>[{value:"watch_time",label:"Watch time"},{value:"shares",label:"Shares"},{value:"saves",label:"Saves"},{value:"ctr",label:"Click-through rate"}],[]);return n?.id?e.jsx(Ge,{children:e.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[e.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),e.jsx("a",{href:"#hook-generator",className:"skip-link",children:"Skip to hook generator"}),w?e.jsx(Xe,{user:k,credits:G,onNewHook:()=>P(!0)}):e.jsx("header",{className:"bg-white border-b border-slate-200 px-4 sm:px-6 py-3 sm:py-4 sticky top-0 z-10",role:"banner",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx("img",{src:rs,alt:"Hook Line Studio Logo",className:"w-8 h-8 sm:w-10 sm:h-10 object-contain",role:"img"}),e.jsx("span",{className:"font-semibold text-slate-900 text-sm sm:text-base",children:"Hook Line Studio"})]}),e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-4",children:[k?.company&&e.jsxs("div",{className:"hidden lg:flex items-center space-x-2 px-2 py-1 bg-slate-50 rounded border border-slate-200",role:"status","aria-label":"Current company",children:[e.jsx(R,{className:"w-3 h-3 text-slate-600","aria-hidden":"true"}),e.jsx("span",{className:"text-xs font-medium text-slate-700",children:k.company})]}),G&&!k?.isPremium&&e.jsx("div",{className:"flex items-center space-x-1 px-2 py-1 bg-brass/10 rounded border border-brass/20",role:"status","aria-label":`${G.remainingCredits} credits remaining`,children:e.jsxs("span",{className:"text-xs font-medium text-navy",children:[G.remainingCredits," credits"]})}),k?.isPremium&&e.jsx("div",{className:"flex items-center space-x-1 px-2 py-1 bg-navy/10 rounded border border-navy/20",role:"status","aria-label":"Premium account",children:e.jsx("span",{className:"text-xs font-medium text-navy",children:"Premium"})}),e.jsxs("nav",{role:"navigation","aria-label":"Secondary navigation",children:[e.jsxs(l,{variant:"ghost",size:"sm",onClick:()=>a("/favorites"),"aria-label":"Go to your favorite hooks",className:"relative p-2 focus-visible",children:[e.jsx(Y,{className:"w-4 h-4"}),e.jsx("span",{className:"ml-1 text-xs",children:"Favorites"})]}),e.jsxs(l,{variant:"ghost",size:"sm",title:"Generation History",className:"p-2",onClick:()=>a("/history"),children:[e.jsx(ge,{className:"w-4 h-4"}),e.jsx("span",{className:"ml-1 text-xs",children:"History"})]}),e.jsxs(Te,{children:[e.jsx(Me,{asChild:!0,children:e.jsxs(l,{variant:"ghost",size:"sm",className:"flex items-center space-x-1 p-2",children:[k?.profileImageUrl?e.jsx("img",{src:k.profileImageUrl,alt:"Profile",className:"w-6 h-6 rounded-full object-cover"}):e.jsx(ve,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:k?.firstName||"Profile"}),e.jsx(Ke,{className:"w-3 h-3"})]})}),e.jsxs(He,{align:"end",className:"w-56",children:[e.jsxs("div",{className:"px-3 py-2 border-b border-slate-100",children:[e.jsx("p",{className:"text-sm font-medium",children:k?.firstName||k?.email}),e.jsx("p",{className:"text-xs text-slate-500",children:k?.email})]}),e.jsxs(L,{onClick:()=>a("/profile"),children:[e.jsx(Q,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Profile Settings"})]}),e.jsxs(L,{onClick:()=>a("/profile/companies"),children:[e.jsx(R,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Manage Companies"})]}),e.jsxs(L,{onClick:()=>a("/billing"),children:[e.jsx(Ne,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Billing & Plans"})]}),e.jsx(Le,{}),e.jsxs(L,{onClick:()=>d.mutate(),children:[e.jsx(we,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Log out"})]})]})]})]})]})]})}),e.jsx(Ze,{isOpen:Ee,onOpenChange:P,selectedPlatform:r,setSelectedPlatform:b,objective:p,setObjective:c,topic:x,setTopic:m,onGenerate:z,isGenerating:N,generations:T,setCurrentGeneration:v}),e.jsxs("main",{id:"main-content",className:`flex-1 flex ${w?"flex-col":"flex-col lg:flex-row"} overflow-hidden`,role:"main","aria-label":"Hook generation workspace",children:[!w&&e.jsx("aside",{id:"hook-generator",className:"w-full lg:w-1/3 bg-white border-b lg:border-b-0 lg:border-r border-slate-200 p-4 sm:p-6 overflow-y-auto",role:"complementary","aria-label":"Hook generation form",children:e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-3 sm:mb-4",children:"Create New Hooks"}),e.jsxs("fieldset",{className:"mb-4 sm:mb-6",children:[e.jsx("legend",{className:"text-sm font-medium text-slate-700 mb-2 sm:mb-3 block",children:"Platform"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",role:"radiogroup","aria-label":"Select content platform",children:Ie.map(s=>{const g=r===s.value,E=s.value==="tiktok"?V:s.value==="instagram"?A:_;return e.jsxs(l,{type:"button",variant:"outline",className:`p-2 sm:p-3 h-auto flex-col space-y-1 text-xs relative overflow-hidden focus-visible ${g?`${s.color} ${s.textColor} border-transparent`:"bg-white hover:bg-slate-50 border-slate-200"}`,onClick:()=>b(s.value),role:"radio","aria-checked":g,"aria-label":`Select ${s.label} platform`,children:[e.jsx(E,{className:`text-sm sm:text-lg ${g?s.textColor:s.value==="tiktok"?"text-black":s.value==="instagram"?"text-pink-500":"text-red-600"}`,"aria-hidden":"true"}),e.jsx("span",{className:`text-xs font-medium ${g?s.textColor:"text-slate-700"}`,children:s.label})]},s.value)})})]}),e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx($,{htmlFor:"objective",className:"text-sm font-medium text-slate-700 mb-2 block",children:"Objective"}),e.jsxs(ce,{value:p,onValueChange:s=>c(s),children:[e.jsx(de,{id:"objective",className:"h-10 sm:h-11 focus-visible","aria-label":"Select content objective",children:e.jsx(me,{placeholder:"Choose your goal"})}),e.jsx(xe,{children:$e.map(s=>e.jsx(he,{value:s.value,children:s.label},s.value))})]})]}),e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx($,{htmlFor:"topic",className:"text-sm font-medium text-slate-700 mb-2 block",children:"Video Topic"}),e.jsx(Ce,{id:"topic",placeholder:"Describe your video idea... e.g., '7-day sugar-free experiment results'",value:x,onChange:s=>m(s.target.value),className:"h-24 sm:h-32 resize-none text-sm focus-visible","aria-describedby":"topic-description","aria-label":"Video topic description"}),e.jsx("p",{id:"topic-description",className:"text-xs text-slate-500 mt-1",children:"Be specific about what your video will cover"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(l,{className:"w-full py-3 sm:py-4 text-sm sm:text-lg font-semibold shadow-lg hover:shadow-xl focus-visible",onClick:z,disabled:N||!x.trim(),"aria-label":N?"Generating hooks, please wait":"Generate 10 hooks from your video topic","aria-describedby":C?.isAtLimit?"credit-limit-warning":void 0,children:[e.jsx(W,{className:`w-4 h-4 mr-2 ${N?"animate-spin":""}`,"aria-hidden":"true"}),N?"Generating...":"Generate 10 Hooks"]}),C?.isAtLimit&&e.jsx("p",{id:"credit-limit-warning",className:"text-xs text-red-600",role:"alert",children:"You've reached your credit limit. Please upgrade to continue generating hooks."})]})]}),T&&T.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Se,{}),e.jsxs("section",{"aria-labelledby":"recent-topics-heading",children:[e.jsx("h3",{id:"recent-topics-heading",className:"text-sm font-medium text-slate-700 mb-3",children:"Recent Topics"}),e.jsx("div",{className:"space-y-2",role:"list","aria-label":"Recent hook generations",children:T.slice(0,5).map(s=>e.jsx(l,{variant:"ghost",className:"w-full justify-start h-auto p-3 bg-slate-50 hover:bg-slate-100 focus-visible",onClick:()=>v(s),role:"listitem","aria-label":`Load hooks for ${s.topic} on ${s.platform}`,children:e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm text-slate-900 font-medium truncate",children:s.topic}),e.jsxs("p",{className:"text-xs text-slate-500",children:[s.platform," • ",s.createdAt?new Date(s.createdAt).toLocaleDateString():""]})]})},s.id))})]})]})]})}),e.jsx("section",{className:`flex-1 flex flex-col bg-slate-50 overflow-hidden ${w?"pb-20":""}`,"aria-label":"Generated hooks results",children:i?e.jsxs(e.Fragment,{children:[!w&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-shrink-0 bg-white border-b border-slate-200 p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Generated Hooks"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-slate-100 rounded-full text-sm",children:[i.platform==="tiktok"&&e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"h-4 w-4 text-black"})," ",e.jsx("span",{className:"font-medium",children:"TikTok"})]}),i.platform==="instagram"&&e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"h-4 w-4 text-pink-500"})," ",e.jsx("span",{className:"font-medium",children:"Instagram"})]}),i.platform==="youtube"&&e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"h-4 w-4 text-red-500"})," ",e.jsx("span",{className:"font-medium",children:"YouTube"})]})]}),e.jsx("div",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:i.objective.replace("_"," ").charAt(0).toUpperCase()+i.objective.replace("_"," ").slice(1)})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 max-w-2xl",children:[e.jsx("div",{className:"text-xs font-medium text-blue-700 mb-1",children:"ORIGINAL TOPIC"}),e.jsxs("div",{className:"text-sm text-blue-900 font-medium",children:['"',i.topic,'"']})]}),e.jsxs("p",{className:"text-sm text-slate-600",children:[i.hooks?.length||0," hooks generated • Click to copy or save favorites"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(l,{variant:"outline",onClick:J,disabled:F.isPending,className:"hover:bg-slate-50",children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),F.isPending?"Exporting...":"Export CSV"]}),e.jsxs(l,{className:"bg-blue-600 hover:bg-blue-700 text-white shadow-sm",onClick:Z,disabled:N,children:[e.jsx(ye,{className:"w-4 h-4 mr-2"}),"Try 10 More"]})]})]})}),e.jsx("div",{className:"px-6 py-3 border-b bg-slate-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-slate-700",children:"Hook Display Mode"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{variant:y?"outline":"default",size:"sm",onClick:()=>U(!1),className:"text-xs",children:"Classic View"}),e.jsx(l,{variant:y?"default":"outline",size:"sm",onClick:()=>U(!0),className:"text-xs bg-purple-600 hover:bg-purple-700 text-white",children:"✨ Tri-Modal View"})]})]})})]}),w&&e.jsxs("div",{className:"bg-white border-b border-slate-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Hooks Generated"}),e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>P(!0),className:"text-xs",children:[e.jsx(D,{className:"w-4 h-4 mr-1"}),"New"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[i.platform==="tiktok"&&e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"h-4 w-4 text-black"})," ",e.jsx("span",{className:"text-sm font-medium",children:"TikTok"})]}),i.platform==="instagram"&&e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"h-4 w-4 text-pink-500"})," ",e.jsx("span",{className:"text-sm font-medium",children:"Instagram"})]}),i.platform==="youtube"&&e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"h-4 w-4 text-red-500"})," ",e.jsx("span",{className:"text-sm font-medium",children:"YouTube"})]}),e.jsx("span",{className:"text-xs text-slate-500",children:"•"}),e.jsx("span",{className:"text-xs text-slate-600",children:i.objective.replace("_"," ")})]}),e.jsxs("p",{className:"text-sm text-slate-600 line-clamp-2",children:['"',i.topic,'"']})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:e.jsx(h.Suspense,{fallback:w?e.jsx(ts,{}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"Loading results..."})]})}),children:w?e.jsx(as,{generation:i,userId:n?.id||"",useTriModalView:y}):y?e.jsx(is,{generation:i,userId:n?.id||""}):e.jsx(ls,{generation:i,userId:n?.id||""})})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-6",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-100 to-blue-200 rounded-2xl flex items-center justify-center mb-6",children:e.jsx(W,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:`${w?"text-lg":"text-xl"} font-semibold text-slate-900 mb-3`,children:"Ready to create engaging hooks?"}),e.jsx("p",{className:"text-slate-600 mb-6 max-w-md leading-relaxed text-sm",children:w?"Tap the button below to start generating hooks for your content.":"Choose your platform, describe your video idea, and get 10 platform-optimized hooks in 30 seconds."}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(l,{onClick:w?()=>P(!0):z,disabled:!w&&(N||!x.trim()),className:"bg-blue-600 hover:bg-blue-700",children:w?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Create Your First Hook"]}):N?"Generating...":"Generate Your First Hooks"}),!w&&e.jsxs(l,{variant:"outline",children:[e.jsx(ae,{className:"w-4 h-4 mr-2"}),"Watch Tutorial"]})]})]})})]}),w&&e.jsx(Je,{onExport:J,onGenerateMore:Z,onNewHook:()=>P(!0),onToggleView:()=>U(!y),isExporting:F.isPending,isGenerating:N,useTriModalView:y,hasHooks:!!i,className:"fixed bottom-0 left-0 right-0 z-40"}),e.jsx(Qe,{isOpen:u,onClose:()=>f(!1),creditInfo:C})]})}):e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",role:"main","aria-label":"Profile setup required",children:e.jsx(be,{className:"max-w-md w-full mx-4",children:e.jsxs(pe,{className:"pt-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-secondary rounded-2xl flex items-center justify-center mx-auto mb-4","aria-hidden":"true",children:e.jsx(ae,{className:"w-8 h-8 text-white","aria-hidden":"true"})}),e.jsx("h1",{className:"text-xl font-semibold mb-2",children:"Welcome to Hook Line Studio"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Please complete your profile setup to start generating hooks."}),e.jsx(l,{onClick:()=>a("/onboarding"),className:"focus-visible","aria-label":"Complete profile setup to access hook generation",children:"Complete Setup"})]})})})}export{js as default};
