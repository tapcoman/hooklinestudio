import{f as D,r as o,aR as q,e as B,j as e,i as E,az as g,aA as L,aa as z,aW as M,aU as V}from"./react-vendor-CuZWBhOf-v2025.08.03.011.js";import{u as I,q as R,d as f,B as r,L as d,I as C,i as h,j as u,k as j,l as p,m as i,C as H,o as Y,p as G,b as K}from"./index-BBtCjTkO-v2025.08.03.011.js";import{T as O}from"./textarea-CT-e0n6P-v2025.08.03.011.js";import{D as P,a as Q,b as U,c as W,d as $}from"./dialog-HhZiLjOd-v2025.08.03.011.js";import"./vendor-DIA_XqG_-v2025.08.03.011.js";import"./utils-vendor-BkLtITBR-v2025.08.03.011.js";import"./ui-vendor-DoZ-8kYP-v2025.08.03.011.js";function ne(){const[,N]=D(),{toast:c}=I(),[w,x]=o.useState(!1),[b,J]=o.useState(null),{data:t,isLoading:T}=q({queryKey:["/api/users/me"],queryFn:()=>f("GET","/api/users/me").then(s=>s.json())}),[v,m]=o.useState([{id:"1",company:t?.company||"Current Company",industry:t?.industry||"Technology",role:t?.role||"Creator",audience:t?.audience||"General audience",voice:t?.voice||"Friendly",safety:t?.safety||"standard",bannedTerms:t?.bannedTerms||[],isActive:!0}]),[n,l]=o.useState({company:"",industry:"",role:"",audience:"",voice:"friendly",safety:"standard",bannedTerms:[]}),y=B({mutationFn:async s=>(await f("PUT","/api/users/me",{company:s.company,industry:s.industry,role:s.role,audience:s.audience,voice:s.voice,safety:s.safety,bannedTerms:s.bannedTerms})).json(),onSuccess:()=>{R.invalidateQueries({queryKey:["/api/users/me"]}),m(s=>s.map(a=>({...a,isActive:a.id===b?.id}))),c({title:"Company switched",description:"Your active company profile has been updated."})},onError:s=>{c({title:"Switch failed",description:s.message,variant:"destructive"})}}),S=s=>{y.mutate(s)},A=()=>{if(!n.company.trim()){c({title:"Company name required",description:"Please enter a company name.",variant:"destructive"});return}const s={...n,id:Date.now().toString(),isActive:!1};m(a=>[...a,s]),l({company:"",industry:"",role:"",audience:"",voice:"friendly",safety:"standard",bannedTerms:[]}),x(!1),c({title:"Company added",description:"New company profile has been created."})},F=s=>{m(a=>a.filter(k=>k.id!==s)),c({title:"Company deleted",description:"Company profile has been removed."})};return T?e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"Loading companies..."})]})}):e.jsxs("div",{className:"min-h-screen bg-slate-50",children:[e.jsx("div",{className:"bg-white border-b border-slate-200 px-6 py-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto flex items-center space-x-4",children:[e.jsxs(r,{variant:"ghost",size:"sm",onClick:()=>N("/profile"),className:"flex items-center space-x-2",children:[e.jsx(E,{className:"w-4 h-4"}),e.jsx("span",{children:"Back to Profile"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(g,{className:"w-6 h-6 text-slate-600"}),e.jsx("h1",{className:"text-xl font-semibold text-slate-900",children:"Manage Companies"})]})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-slate-600 mb-4",children:"Manage multiple company profiles to switch between different brand contexts when generating hooks."}),e.jsxs(P,{open:w,onOpenChange:x,children:[e.jsx(Q,{asChild:!0,children:e.jsxs(r,{className:"flex items-center space-x-2",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Company"})]})}),e.jsxs(U,{className:"max-w-2xl",children:[e.jsx(W,{children:e.jsx($,{children:"Add New Company Profile"})}),e.jsxs("div",{className:"space-y-4 mt-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"new-company",children:"Company Name *"}),e.jsx(C,{id:"new-company",value:n.company,onChange:s=>l(a=>({...a,company:s.target.value})),placeholder:"Company name"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"new-role",children:"Your Role"}),e.jsx(C,{id:"new-role",value:n.role,onChange:s=>l(a=>({...a,role:s.target.value})),placeholder:"Your role at this company"})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"new-industry",children:"Industry"}),e.jsxs(h,{value:n.industry,onValueChange:s=>l(a=>({...a,industry:s})),children:[e.jsx(u,{children:e.jsx(j,{placeholder:"Select industry"})}),e.jsxs(p,{children:[e.jsx(i,{value:"technology",children:"Technology"}),e.jsx(i,{value:"healthcare",children:"Healthcare"}),e.jsx(i,{value:"finance",children:"Finance"}),e.jsx(i,{value:"education",children:"Education"}),e.jsx(i,{value:"retail",children:"Retail"}),e.jsx(i,{value:"fitness",children:"Fitness"}),e.jsx(i,{value:"food",children:"Food & Beverage"}),e.jsx(i,{value:"beauty",children:"Beauty & Fashion"}),e.jsx(i,{value:"entertainment",children:"Entertainment"}),e.jsx(i,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"new-audience",children:"Target Audience"}),e.jsx(O,{id:"new-audience",value:n.audience,onChange:s=>l(a=>({...a,audience:s.target.value})),placeholder:"Describe the target audience for this company",className:"h-20"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{children:"Brand Voice"}),e.jsxs(h,{value:n.voice,onValueChange:s=>l(a=>({...a,voice:s})),children:[e.jsx(u,{children:e.jsx(j,{})}),e.jsxs(p,{children:[e.jsx(i,{value:"friendly",children:"Friendly"}),e.jsx(i,{value:"authoritative",children:"Authoritative"}),e.jsx(i,{value:"playful",children:"Playful"}),e.jsx(i,{value:"contrarian",children:"Contrarian"}),e.jsx(i,{value:"luxury",children:"Luxury"}),e.jsx(i,{value:"minimal",children:"Minimal"})]})]})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Content Safety"}),e.jsxs(h,{value:n.safety,onValueChange:s=>l(a=>({...a,safety:s})),children:[e.jsx(u,{children:e.jsx(j,{})}),e.jsxs(p,{children:[e.jsx(i,{value:"family-friendly",children:"Family-friendly"}),e.jsx(i,{value:"standard",children:"Standard"}),e.jsx(i,{value:"edgy",children:"Edgy"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[e.jsx(r,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),e.jsx(r,{onClick:A,children:"Add Company"})]})]})]})]})]}),e.jsx("div",{className:"grid gap-4",children:v.map(s=>e.jsxs(H,{className:`${s.isActive?"ring-2 ring-primary":""}`,children:[e.jsx(Y,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(g,{className:"w-5 h-5 text-slate-600"}),e.jsxs("div",{children:[e.jsx(G,{className:"text-lg",children:s.company}),e.jsxs("p",{className:"text-sm text-slate-500",children:[s.role," â€¢ ",s.industry]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.isActive&&e.jsxs("div",{className:"flex items-center space-x-1 text-green-600 text-sm font-medium",children:[e.jsx(z,{className:"w-4 h-4"}),e.jsx("span",{children:"Active"})]}),!s.isActive&&e.jsx(r,{variant:"outline",size:"sm",onClick:()=>S(s),disabled:y.isPending,children:"Switch to this"}),e.jsx(r,{variant:"ghost",size:"sm",children:e.jsx(M,{className:"w-4 h-4"})}),v.length>1&&e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>F(s.id),children:e.jsx(V,{className:"w-4 h-4"})})]})]})}),e.jsx(K,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-700",children:"Audience"}),e.jsx("p",{className:"text-slate-600",children:s.audience||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-700",children:"Voice"}),e.jsx("p",{className:"text-slate-600 capitalize",children:s.voice})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-700",children:"Safety"}),e.jsx("p",{className:"text-slate-600 capitalize",children:s.safety})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-700",children:"Banned Terms"}),e.jsxs("p",{className:"text-slate-600",children:[s.bannedTerms.length," terms"]})]})]})})]},s.id))})]})]})}export{ne as default};
