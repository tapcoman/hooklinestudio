import{u as I,a as O,b as G,r as i,c as R,z as $,g as C,j as e,B as a,A as K,e as l,I as Q,n as D,o as S,p as F,C as U,G as V,d as Y}from"./index-DcVH0HiB-v2025.08.03.002.js";import{u as J}from"./useQuery-CtraadhM-v2025.08.03.002.js";import{H as T,D as k,a as N,b,c as o,C as W}from"./dropdown-menu-D_94bytK-v2025.08.03.002.js";import{S as A,F as H}from"./search-DH4zAPUf-v2025.08.03.002.js";import{T as X}from"./trash-2-Bcsyv57w-v2025.08.03.002.js";function re(){const[,m]=I(),{toast:x}=O(),{user:L}=G(),[Z,f]=i.useState(null),[t,w]=i.useState(""),[n,h]=i.useState("all"),[d,p]=i.useState("all"),[u,g]=i.useState("newest");if(!L?.uid)return m("/onboarding"),null;const{data:c=[],isLoading:P}=J({queryKey:["/api/favorites","all"],queryFn:async()=>(await C("GET","/api/favorites")).json()}),y=R({mutationFn:async s=>{await C("DELETE",`/api/favorites/${s}`)},onSuccess:()=>{$.invalidateQueries({queryKey:["/api/favorites","all"]}),x({title:"Favorite removed",description:"Hook has been removed from your favorites."})},onError:s=>{x({title:"Failed to remove favorite",description:s.message,variant:"destructive"})}}),B=async s=>{try{await navigator.clipboard.writeText(s),f(s),setTimeout(()=>f(null),2e3),x({title:"Copied to clipboard!",description:"Hook has been copied to your clipboard."})}catch{x({title:"Failed to copy",description:"Unable to copy to clipboard.",variant:"destructive"})}},v=s=>({"Open Loop":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",Problem:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200","4U's":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",AIDA:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",PAS:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",Direct:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"})[s]||"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-200",j=c?.filter(s=>{const r=t===""||s.hook.toLowerCase().includes(t.toLowerCase())||s.framework.toLowerCase().includes(t.toLowerCase())||s.topic&&s.topic.toLowerCase().includes(t.toLowerCase())||s.platformNotes&&s.platformNotes.toLowerCase().includes(t.toLowerCase()),E=n==="all"||s.framework===n,z=d==="all"||s.platform===d;return r&&E&&z}).sort((s,r)=>{switch(u){case"newest":return new Date(r.createdAt||0).getTime()-new Date(s.createdAt||0).getTime();case"oldest":return new Date(s.createdAt||0).getTime()-new Date(r.createdAt||0).getTime();case"framework":return s.framework.localeCompare(r.framework);default:return 0}})||[],M=Array.from(new Set(c?.map(s=>s.framework)||[])),q=Array.from(new Set(c?.map(s=>s.platform).filter(Boolean)||[]));return P?e.jsx("div",{className:"min-h-screen bg-background",children:e.jsx("div",{className:"max-w-6xl mx-auto px-6 py-8",children:e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading your favorite hooks..."})]})})})}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"bg-card border-b border-border px-4 sm:px-6 py-3 sm:py-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[e.jsxs(a,{variant:"ghost",onClick:()=>m("/app"),className:"btn-enhanced h-8 sm:h-10 px-2 sm:px-3 rounded-xl",children:[e.jsx(K,{className:"w-4 h-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Back to Generator"}),e.jsx("span",{className:"sm:hidden",children:"Back"})]}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx(T,{className:"w-5 h-5 sm:w-6 sm:h-6 text-red-500"}),e.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-foreground",children:"Favorite Hooks"})]})]}),e.jsxs(l,{variant:"secondary",className:"px-3 py-1 self-start sm:self-auto",children:[j.length," of ",c.length," hooks"]})]})}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-6 sm:py-8",children:c.length===0?e.jsxs("div",{className:"text-center py-12 sm:py-20",children:[e.jsx(T,{className:"w-12 h-12 sm:w-16 sm:h-16 text-muted-foreground mx-auto mb-4 sm:mb-6"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-foreground mb-4",children:"No hooks yetâ€”try your first idea."}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mb-6 sm:mb-8 max-w-md mx-auto",children:"Save your best hooks to easily find and reuse them later. Click the heart icon on any hook to add it to your favorites."}),e.jsx(a,{onClick:()=>m("/app"),className:"btn-enhanced h-10 sm:h-12 px-4 sm:px-6 rounded-xl",children:"Try your first idea"})]}):e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-6 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(Q,{type:"text",placeholder:"Search hooks, frameworks, or notes...",value:t,onChange:s=>w(s.target.value),className:"pl-10 h-10 sm:h-12 rounded-xl"})]}),e.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[e.jsxs(k,{children:[e.jsx(N,{asChild:!0,children:e.jsxs(a,{variant:"outline",className:"btn-enhanced h-10 sm:h-12 px-3 sm:px-4 rounded-xl",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),n==="all"?"All Frameworks":n]})}),e.jsxs(b,{align:"end",children:[e.jsx(o,{onClick:()=>h("all"),children:"All Frameworks"}),M.map(s=>e.jsxs(o,{onClick:()=>h(s),children:[e.jsx(l,{className:`${v(s)} mr-2 text-xs`,children:s}),s]},s))]})]}),e.jsxs(k,{children:[e.jsx(N,{asChild:!0,children:e.jsxs(a,{variant:"outline",className:"btn-enhanced h-10 sm:h-12 px-3 sm:px-4 rounded-xl",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),d==="all"?"All Platforms":d]})}),e.jsxs(b,{align:"end",children:[e.jsx(o,{onClick:()=>p("all"),children:"All Platforms"}),q.map(s=>e.jsx(o,{onClick:()=>p(s||""),children:e.jsxs("div",{className:"flex items-center gap-2",children:[s==="tiktok"&&e.jsx(D,{className:"w-4 h-4"}),s==="instagram"&&e.jsx(S,{className:"w-4 h-4 text-pink-500"}),s==="youtube"&&e.jsx(F,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"capitalize",children:s})]})},s))]})]}),e.jsxs(k,{children:[e.jsx(N,{asChild:!0,children:e.jsxs(a,{variant:"outline",className:"btn-enhanced h-10 sm:h-12 px-3 sm:px-4 rounded-xl",children:["Sort: ",u==="newest"?"Newest":u==="oldest"?"Oldest":"Framework"]})}),e.jsxs(b,{align:"end",children:[e.jsx(o,{onClick:()=>g("newest"),children:"Newest First"}),e.jsx(o,{onClick:()=>g("oldest"),children:"Oldest First"}),e.jsx(o,{onClick:()=>g("framework"),children:"By Framework"})]})]})]})]}),j.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(A,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No hooks found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:t||n!=="all"||d!=="all"?"Try adjusting your search or filters.":"No hooks saved yet."}),(t||n!=="all"||d!=="all")&&e.jsx(a,{variant:"outline",onClick:()=>{w(""),h("all"),p("all")},className:"btn-enhanced",children:"Clear filters"})]}):e.jsx("div",{className:"grid gap-4 sm:gap-6",children:j.map(s=>e.jsxs(U,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(V,{className:"pb-3 sm:pb-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[e.jsx(l,{className:`${v(s.framework)} px-2 sm:px-3 py-1 text-xs font-medium rounded-full`,children:s.framework}),s.platform&&e.jsx(l,{variant:"outline",className:"px-2 py-1 text-xs",children:e.jsxs("div",{className:"flex items-center gap-1",children:[s.platform==="tiktok"&&e.jsx(D,{className:"w-3 h-3"}),s.platform==="instagram"&&e.jsx(S,{className:"w-3 h-3 text-pink-500"}),s.platform==="youtube"&&e.jsx(F,{className:"w-3 h-3 text-red-600"}),e.jsx("span",{className:"capitalize font-medium",children:s.platform})]})}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Saved ",s.createdAt?new Date(s.createdAt).toLocaleDateString():"Recently"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 self-end sm:self-auto",children:[e.jsx(a,{variant:"ghost",size:"sm",onClick:()=>B(s.hook),className:"btn-enhanced h-8 w-8 p-0 rounded-lg",children:e.jsx(W,{className:"w-4 h-4"})}),e.jsx(a,{variant:"ghost",size:"sm",onClick:()=>y.mutate(s.id),disabled:y.isPending,className:"btn-enhanced h-8 w-8 p-0 rounded-lg text-destructive hover:text-destructive hover:bg-destructive/10",children:e.jsx(X,{className:"w-4 h-4"})})]})]})}),e.jsxs(Y,{className:"space-y-4",children:[s.topic&&e.jsxs("div",{className:"bg-primary/5 border border-primary/10 rounded-lg p-3",children:[e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("span",{className:"text-xs font-medium text-primary",children:"Original Topic"})}),e.jsxs("p",{className:"text-sm text-muted-foreground italic",children:['"',s.topic,'"']})]}),e.jsx("div",{children:s.hookData&&(s.hookData.visualHook||s.hookData.textualHook)?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs font-medium text-slate-600 dark:text-slate-400 mb-1",children:"Verbal Hook"}),e.jsxs("p",{className:"text-foreground font-medium leading-relaxed",children:['"',s.hookData.verbalHook||s.hook,'"']})]}),s.hookData.visualHook&&e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs font-medium text-purple-600 dark:text-purple-400 mb-1",children:"Visual Hook"}),e.jsx("p",{className:"text-foreground leading-relaxed",children:s.hookData.visualHook})]}),s.hookData.textualHook&&e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3",children:[e.jsx("p",{className:"text-xs font-medium text-green-600 dark:text-green-400 mb-1",children:"Text Overlay"}),e.jsxs("p",{className:"text-foreground font-medium leading-relaxed",children:['"',s.hookData.textualHook,'"']})]}),s.hookData.psychologicalDriver&&e.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[e.jsx(l,{variant:"outline",className:"text-xs",children:s.hookData.psychologicalDriver}),s.hookData.hookCategory&&e.jsx(l,{variant:"outline",className:"text-xs",children:s.hookData.hookCategory}),s.hookData.score&&e.jsxs(l,{variant:"outline",className:"text-xs",children:["Score: ",s.hookData.score,"/5"]})]})]}):e.jsxs("p",{className:"text-foreground font-medium leading-relaxed",children:['"',s.hook,'"']})}),s.platformNotes&&e.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:"Platform Notes"}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:s.platformNotes})]})]})]},s.id))}),e.jsx("div",{className:"flex justify-center pt-8 border-t border-border",children:e.jsx(a,{onClick:()=>m("/app"),className:"btn-enhanced h-12 px-8 rounded-xl",children:"Try 10 more"})})]})})]})}export{re as default};
