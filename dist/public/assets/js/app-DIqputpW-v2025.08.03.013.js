const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/hook-results-D1YLr9CA-v2025.08.03.013.js","assets/js/react-vendor-DGdGViT9-v2025.08.03.013.js","assets/js/vendor-Dq3tu9fQ-v2025.08.03.013.js","assets/js/utils-vendor-BTGVH9Kg-v2025.08.03.013.js","assets/js/index-0qqAfkP9-v2025.08.03.013.js","assets/css/index-wLJy-ksb.css","assets/js/trimodal-hook-results-BcUG9HPf-v2025.08.03.013.js","assets/js/separator-8aro_d2W-v2025.08.03.013.js"])))=>i.map(i=>d[i]);
import{a as le,c as A,S as ie,e as re,B as r,f as oe,g as ne,h as ce,L as F,i as de,j as me,k as xe,l as he,m as ue,u as pe,C as be,n as M,b as je,q as se,d as $,E as Ge,_ as fe}from"./index-0qqAfkP9-v2025.08.03.013.js";import{r as p,j as e,f as ge,Q as Ie,X as ve,aC as Ne,aD as O,aE as D,aF as Y,aG as we,aH as Q,aI as ke,aJ as ye,aK as Ce,aL as Se,aM as Re,aN as Ve,ao as _e,J as R,K as V,M as _,aO as W,E as Ae,av as Oe,aP as De,aQ as qe,aR as Be,aS as Ke,aT as Ue,aU as K,e as ae,aB as te,a0 as We}from"./react-vendor-DGdGViT9-v2025.08.03.013.js";import{T as Te}from"./textarea-CzT6NmIp-v2025.08.03.013.js";import{S as Me}from"./separator-8aro_d2W-v2025.08.03.013.js";import{D as He,a as Pe,b as Ee,c as P,d as Le}from"./dropdown-menu-DZFgTgN6-v2025.08.03.013.js";import{S as Ye}from"./subscription-modal-DlkeuQfJ-v2025.08.03.013.js";import"./vendor-Dq3tu9fQ-v2025.08.03.013.js";import"./utils-vendor-BTGVH9Kg-v2025.08.03.013.js";import"./dialog-YvmLrxmp-v2025.08.03.013.js";const U=768;function Qe(){const[s,m]=p.useState(void 0);return p.useEffect(()=>{const h=window.matchMedia(`(max-width: ${U-1}px)`),t=()=>{m(window.innerWidth<U)};return h.addEventListener("change",t),m(window.innerWidth<U),()=>h.removeEventListener("change",t)},[]),!!s}function Xe({isOpen:s,onClose:m,creditInfo:h}){return e.jsx(Ye,{isOpen:s,onClose:m,showDiscountOffer:h==null?void 0:h.isAtLimit,currentCredits:(h==null?void 0:h.remainingCredits)||0})}function Je({user:s,credits:m,onNewHook:h}){const[,t]=ge(),{logoutMutation:l}=le(),[o,j]=p.useState(!1),g="/assets/logo.png",c=()=>j(!1),u=[{icon:D,label:"New Hook",action:()=>{h==null||h(),c()},isPrimary:!0},{icon:Y,label:"Favorites",action:()=>{t("/favorites"),c()}},{icon:we,label:"History",action:()=>{t("/history"),c()}},{icon:Q,label:"Profile Settings",action:()=>{t("/profile"),c()}},{icon:O,label:"Manage Companies",action:()=>{t("/profile/companies"),c()}},{icon:ke,label:"Billing & Plans",action:()=>{t("/billing"),c()}}];return e.jsx("div",{className:"bg-white border-b border-slate-200 px-4 py-3 sticky top-0 z-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:g,alt:"Hook Line Studio",className:"w-8 h-8 object-contain"}),e.jsx("span",{className:"font-semibold text-slate-900 text-sm",children:"HLS"})]}),e.jsxs("div",{className:"flex items-center",children:[m&&!(s!=null&&s.isPremium)&&e.jsxs(A,{variant:"secondary",className:"bg-amber-50 text-amber-700 border-amber-200 text-xs px-2 py-1",children:[m.remainingCredits," credits"]}),(s==null?void 0:s.isPremium)&&e.jsx(A,{className:"bg-blue-600 text-white text-xs px-2 py-1",children:"Premium"})]}),e.jsxs(ie,{open:o,onOpenChange:j,children:[e.jsx(re,{asChild:!0,children:e.jsx(r,{variant:"ghost",size:"sm",className:"p-2",children:e.jsx(Ie,{className:"w-5 h-5"})})}),e.jsxs(oe,{side:"right",className:"w-80 p-0",children:[e.jsxs(ne,{className:"p-6 pb-4 border-b border-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ce,{className:"text-lg font-semibold",children:"Menu"}),e.jsx(r,{variant:"ghost",size:"sm",onClick:c,className:"p-1 h-auto",children:e.jsx(ve,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center space-x-3 mt-4",children:[s!=null&&s.profileImageUrl?e.jsx("img",{src:s.profileImageUrl,alt:"Profile",className:"w-10 h-10 rounded-full object-cover"}):e.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center",children:e.jsx(Ne,{className:"w-5 h-5 text-slate-600"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"font-medium text-slate-900 text-sm",children:(s==null?void 0:s.firstName)||(s==null?void 0:s.email)}),e.jsx("p",{className:"text-xs text-slate-500",children:s==null?void 0:s.email})]})]}),(s==null?void 0:s.company)&&e.jsxs("div",{className:"flex items-center space-x-2 mt-3 p-2 bg-slate-50 rounded-lg",children:[e.jsx(O,{className:"w-4 h-4 text-slate-600"}),e.jsx("span",{className:"text-sm text-slate-700",children:s.company})]})]}),e.jsx("div",{className:"p-6 space-y-2",children:u.map((x,i)=>{const N=x.icon;return e.jsxs(r,{variant:x.isPrimary?"default":"ghost",className:`w-full justify-start h-12 text-left ${x.isPrimary?"bg-blue-600 hover:bg-blue-700 text-white":"hover:bg-slate-50"}`,onClick:x.action,children:[e.jsx(N,{className:"w-5 h-5 mr-3"}),e.jsx("span",{className:"font-medium",children:x.label})]},i)})}),e.jsx("div",{className:"absolute bottom-6 left-6 right-6",children:e.jsxs(r,{variant:"outline",className:"w-full justify-start h-12 border-red-200 text-red-600 hover:bg-red-50",onClick:()=>{l.mutate(),c()},children:[e.jsx(ye,{className:"w-5 h-5 mr-3"}),e.jsx("span",{className:"font-medium",children:"Log out"})]})})]})]})]})})}function Ze({onExport:s,onGenerateMore:m,onNewHook:h,onToggleView:t,isExporting:l=!1,isGenerating:o=!1,useTriModalView:j=!0,hasHooks:g=!1,className:c=""}){return e.jsxs("nav",{className:`bg-white border-t border-slate-200 px-4 py-3 safe-area-padding-bottom ${c}`,role:"navigation","aria-label":"Primary actions",children:[e.jsxs("div",{className:"flex items-center justify-between space-x-3",children:[e.jsxs(r,{onClick:h,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white h-12 font-medium shadow-sm touch-target","aria-label":"Create new hook",children:[e.jsx(D,{className:"w-5 h-5 mr-2","aria-hidden":"true"}),"New Hook"]}),e.jsxs(r,{variant:"outline",onClick:s,disabled:!g||l,className:"h-12 px-4 border-slate-200 touch-target","aria-label":l?"Exporting hooks...":"Export hooks to CSV",children:[e.jsx(Ce,{className:"w-5 h-5","aria-hidden":"true"}),l&&e.jsx("span",{className:"ml-2 text-xs",children:"..."})]}),e.jsxs(r,{variant:"outline",onClick:m,disabled:!g||o,className:"h-12 px-4 border-slate-200 touch-target","aria-label":o?"Generating more hooks...":"Generate 10 more hooks",children:[e.jsx(Se,{className:`w-5 h-5 ${o?"animate-spin":""}`,"aria-hidden":"true"}),o&&e.jsx("span",{className:"ml-2 text-xs",children:"..."})]}),e.jsxs(He,{children:[e.jsx(Pe,{asChild:!0,children:e.jsx(r,{variant:"outline",className:"h-12 px-4 border-slate-200 touch-target","aria-label":"More options",children:e.jsx(Re,{className:"w-5 h-5","aria-hidden":"true"})})}),e.jsxs(Ee,{align:"end",side:"top",className:"w-56 mb-2",children:[e.jsxs(P,{onClick:t,className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[j?e.jsx(Ve,{className:"mr-2 h-4 w-4"}):e.jsx(_e,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:j?"Classic View":"Tri-Modal View"})]}),j&&e.jsx(A,{variant:"secondary",className:"bg-purple-100 text-purple-700 text-xs",children:"✨"})]}),e.jsx(Le,{}),e.jsxs(P,{children:[e.jsx(Q,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Settings"})]})]})]})]}),(l||o)&&e.jsx("div",{className:"mt-2 flex justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-slate-600",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse"}),e.jsxs("span",{children:[l&&"Exporting hooks...",o&&"Generating new hooks..."]})]})})]})}function es({isOpen:s,onOpenChange:m,selectedPlatform:h,setSelectedPlatform:t,objective:l,setObjective:o,topic:j,setTopic:g,onGenerate:c,isGenerating:u,generations:x,setCurrentGeneration:i,trigger:N}){const b=[{value:"tiktok",label:"TikTok",icon:R,color:"bg-black",textColor:"text-white"},{value:"instagram",label:"Reels",icon:V,color:"bg-gradient-to-r from-purple-500 to-pink-500",textColor:"text-white"},{value:"youtube",label:"Shorts",icon:_,color:"bg-red-600",textColor:"text-white"}],v=[{value:"watch_time",label:"Watch time"},{value:"shares",label:"Shares"},{value:"saves",label:"Saves"},{value:"ctr",label:"Click-through rate"}],y=()=>{c(),m(!1)};return e.jsxs(ie,{open:s,onOpenChange:m,children:[N&&e.jsx(re,{asChild:!0,children:N}),e.jsxs(oe,{side:"left",className:"w-full sm:w-96 p-0",children:[e.jsx(ne,{className:"p-6 pb-4 border-b border-slate-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ce,{className:"text-lg font-semibold",children:"Create New Hooks"}),e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>m(!1),className:"p-1 h-auto",children:e.jsx(ve,{className:"w-4 h-4"})})]})}),e.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto h-full pb-24",children:[e.jsxs("div",{children:[e.jsx(F,{className:"text-sm font-medium text-slate-700 mb-3 block",children:"Platform"}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:b.map(n=>{const w=h===n.value,S=n.icon;return e.jsxs(r,{type:"button",variant:"outline",className:`p-4 h-auto flex items-center space-x-3 text-left relative overflow-hidden ${w?`${n.color} ${n.textColor} border-transparent`:"bg-white hover:bg-slate-50 border-slate-200"}`,onClick:()=>t(n.value),children:[e.jsx(S,{className:`text-xl ${w?n.textColor:n.value==="tiktok"?"text-black":n.value==="instagram"?"text-pink-500":"text-red-600"}`}),e.jsx("span",{className:`font-medium ${w?n.textColor:"text-slate-700"}`,children:n.label})]},n.value)})})]}),e.jsxs("div",{children:[e.jsx(F,{htmlFor:"objective",className:"text-sm font-medium text-slate-700 mb-2 block",children:"Objective"}),e.jsxs(de,{value:l,onValueChange:n=>o(n),children:[e.jsx(me,{className:"h-12",children:e.jsx(xe,{})}),e.jsx(he,{children:v.map(n=>e.jsx(ue,{value:n.value,children:n.label},n.value))})]})]}),e.jsxs("div",{children:[e.jsx(F,{htmlFor:"topic",className:"text-sm font-medium text-slate-700 mb-2 block",children:"Video Topic"}),e.jsx(Te,{id:"topic",placeholder:"Describe your video idea... e.g., '7-day sugar-free experiment results'",value:j,onChange:n=>g(n.target.value),className:"h-32 resize-none text-sm","aria-describedby":"topic-description","aria-label":"Video topic description"}),e.jsx("p",{id:"topic-description",className:"text-xs text-slate-500 mt-2",children:"Be specific about what your video will cover for better hook generation"})]}),e.jsx("div",{children:e.jsxs(r,{className:"w-full py-4 text-lg font-semibold shadow-lg hover:shadow-xl bg-blue-600 hover:bg-blue-700",onClick:y,disabled:u||!j.trim(),children:[e.jsx(W,{className:`w-5 h-5 mr-2 ${u?"animate-spin":""}`}),u?"Generating...":"Generate 10 Hooks"]})}),x&&x.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Me,{}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-3",children:"Recent Topics"}),e.jsx("div",{className:"space-y-2",children:x.slice(0,5).map(n=>e.jsx(r,{variant:"ghost",className:"w-full justify-start h-auto p-3 bg-slate-50 hover:bg-slate-100",onClick:()=>{i==null||i(n),m(!1)},children:e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm text-slate-900 font-medium truncate",children:n.topic}),e.jsxs("p",{className:"text-xs text-slate-500",children:[n.platform," • ",n.createdAt?new Date(n.createdAt).toLocaleDateString():""]})]})},n.id))})]})]})]})]})]})}function ss({hook:s,framework:m,rationale:h,score:t,index:l=1,total:o=10,onNext:j,onPrevious:g,onSave:c,isDemo:u=!1,isFavorited:x=!1,className:i}){const{toast:N}=pe(),[b,v]=p.useState(x),y=async()=>{try{await navigator.clipboard.writeText(s),N({title:"Copied to clipboard!",description:"Hook text has been copied to your clipboard."})}catch{N({title:"Copy failed",description:"Unable to copy to clipboard. Please try again.",variant:"destructive"})}},n=async()=>{if(navigator.share)try{await navigator.share({title:"Hook Line Studio - Generated Hook",text:s})}catch{console.log("Share cancelled")}else y()},w=()=>{v(!b),c==null||c(),N({title:b?"Removed from favorites":"Added to favorites",description:b?"Hook removed from your favorites.":"Hook saved to your favorites."})};return e.jsx(be,{className:M("w-full max-w-sm mx-auto bg-white shadow-sm border-slate-200",i),role:"article","aria-label":`Hook ${l} of ${o}: ${s}`,children:e.jsxs(je,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",role:"navigation","aria-label":"Hook navigation",children:[e.jsx("div",{className:"flex space-x-1",role:"progressbar","aria-label":`Progress: ${l} of ${o} hooks`,"aria-valuenow":l,"aria-valuemin":1,"aria-valuemax":o,children:Array.from({length:o},(S,C)=>e.jsx("div",{className:M("w-1.5 h-1.5 rounded-full transition-colors",C<l?"bg-blue-600":"bg-slate-200"),"aria-hidden":"true"},C))}),e.jsxs("span",{className:"text-xs text-slate-500 font-medium","aria-live":"polite",children:[l," of ",o]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("blockquote",{className:"text-lg leading-relaxed font-medium text-slate-900 text-center",children:['"',s,'"']})}),e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(A,{variant:"secondary",className:"bg-blue-50 text-blue-700 border-blue-200 font-medium px-3 py-1",children:m}),t&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ae,{className:"w-4 h-4 text-amber-500 fill-current"}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:t})]})]})}),!u&&e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",role:"group","aria-label":"Hook actions",children:[e.jsxs(r,{variant:"outline",size:"sm",onClick:w,className:M("h-12 flex-col space-y-1 text-xs border-slate-200 touch-target",b&&"bg-red-50 border-red-200 text-red-600"),"aria-label":b?"Remove hook from favorites":"Add hook to favorites","aria-pressed":b,children:[e.jsx(Y,{className:M("w-4 h-4",b&&"fill-current"),"aria-hidden":"true"}),e.jsx("span",{children:b?"Saved":"Save"})]}),e.jsxs(r,{variant:"outline",size:"sm",onClick:y,className:"h-12 flex-col space-y-1 text-xs border-slate-200 touch-target","aria-label":"Copy hook text to clipboard",children:[e.jsx(Oe,{className:"w-4 h-4","aria-hidden":"true"}),e.jsx("span",{children:"Copy"})]}),e.jsxs(r,{variant:"outline",size:"sm",onClick:n,className:"h-12 flex-col space-y-1 text-xs border-slate-200 touch-target","aria-label":"Share hook",children:[e.jsx(De,{className:"w-4 h-4","aria-hidden":"true"}),e.jsx("span",{children:"Share"})]})]}),!u&&(j||g)&&e.jsxs("div",{className:"flex justify-between items-center",role:"navigation","aria-label":"Hook navigation controls",children:[e.jsx(r,{variant:"ghost",size:"sm",onClick:g,disabled:l===1,className:"h-10 px-4 text-slate-600 disabled:opacity-30 touch-target","aria-label":"Go to previous hook",children:"← Previous"}),e.jsx(r,{variant:"ghost",size:"sm",onClick:j,disabled:l===o,className:"h-10 px-4 text-slate-600 disabled:opacity-30 touch-target","aria-label":"Go to next hook",children:"Next →"})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-slate-100",children:e.jsx("p",{className:"text-xs text-slate-500 text-center leading-relaxed",children:h})})]})})}function as(s,m){const[h,t]=p.useState(null),[l,o]=p.useState(null),j=50;return{onTouchStart:x=>{o(null),t(x.targetTouches[0].clientX)},onTouchMove:x=>{o(x.targetTouches[0].clientX)},onTouchEnd:()=>{if(!h||!l)return;const x=h-l,i=x>j,N=x<-j;i&&s&&s(),N&&m&&m()}}}function ts({generation:s,userId:m,useTriModalView:h=!0,className:t}){const[l,o]=p.useState(0),[j,g]=p.useState("single"),c=s.hooks||[],u=c[l],x=()=>{l<c.length-1&&o(l+1)},i=()=>{l>0&&o(l-1)},N=as(x,i);return p.useEffect(()=>{const b=v=>{v.key==="ArrowLeft"?i():v.key==="ArrowRight"&&x()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[l]),c.length?j==="grid"?e.jsxs("div",{className:M("space-y-4",t),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"All Hooks"}),e.jsxs(r,{variant:"outline",size:"sm",onClick:()=>g("single"),className:"text-xs",children:[e.jsx(qe,{className:"w-4 h-4 mr-1"}),"Card View"]})]}),e.jsx("div",{className:"space-y-3",children:c.map((b,v)=>e.jsxs("div",{className:"p-4 bg-white rounded-lg border border-slate-200 cursor-pointer hover:bg-slate-50 transition-colors",onClick:()=>{o(v),g("single")},children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("p",{className:"text-sm font-medium text-slate-900 flex-1 line-clamp-2",children:['"',b.hook,'"']}),e.jsxs("span",{className:"text-xs text-slate-500 ml-2",children:["#",v+1]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded",children:b.framework}),b.score&&e.jsxs("span",{className:"text-xs text-amber-600 font-medium",children:["⭐ ",b.score]})]})]},v))})]}):e.jsxs("div",{className:M("space-y-4",t),...N,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(r,{variant:"outline",size:"sm",onClick:i,disabled:l===0,className:"h-9 w-9 p-0",children:e.jsx(Be,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm font-medium text-slate-700",children:["Hook ",l+1," of ",c.length]}),e.jsx(r,{variant:"outline",size:"sm",onClick:x,disabled:l===c.length-1,className:"h-9 w-9 p-0",children:e.jsx(Ke,{className:"w-4 h-4"})})]}),e.jsxs(r,{variant:"outline",size:"sm",onClick:()=>g("grid"),className:"text-xs",children:[e.jsx(Ue,{className:"w-4 h-4 mr-1"}),"Grid View"]})]}),e.jsx("div",{className:"flex justify-center",children:u&&e.jsx(ss,{hook:u.hook,framework:u.framework,rationale:u.rationale,score:u.score,index:l+1,total:c.length,onNext:x,onPrevious:i,className:"w-full max-w-sm"})}),e.jsx("div",{className:"flex justify-center space-x-2 py-4",children:c.map((b,v)=>e.jsx("button",{onClick:()=>o(v),className:M("w-2 h-2 rounded-full transition-all duration-200",v===l?"bg-blue-600 w-6":"bg-slate-300 hover:bg-slate-400"),"aria-label":`Go to hook ${v+1}`},v))}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-xs text-slate-500",children:"Swipe left or right to navigate between hooks"})})]}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("p",{className:"text-slate-500",children:"No hooks generated yet."})})}function ls(){return e.jsx("div",{className:"w-full max-w-sm mx-auto bg-white shadow-sm border-slate-200 rounded-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"flex space-x-1",children:Array.from({length:10},(s,m)=>e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-200 animate-pulse"},m))}),e.jsx("div",{className:"w-12 h-4 bg-slate-200 rounded animate-pulse"})]}),e.jsxs("div",{className:"mb-6 space-y-2",children:[e.jsx("div",{className:"h-4 bg-slate-200 rounded animate-pulse"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded animate-pulse w-3/4"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded animate-pulse w-1/2"})]}),e.jsxs("div",{className:"flex items-center justify-center mb-6 space-x-3",children:[e.jsx("div",{className:"w-20 h-6 bg-slate-200 rounded-full animate-pulse"}),e.jsx("div",{className:"w-12 h-6 bg-slate-200 rounded animate-pulse"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:Array.from({length:3},(s,m)=>e.jsx("div",{className:"h-12 bg-slate-200 rounded animate-pulse"},m))}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"w-16 h-8 bg-slate-200 rounded animate-pulse"}),e.jsx("div",{className:"w-16 h-8 bg-slate-200 rounded animate-pulse"})]})]})})}const is=p.lazy(()=>fe(()=>import("./hook-results-D1YLr9CA-v2025.08.03.013.js"),__vite__mapDeps([0,1,2,3,4,5]))),rs=p.lazy(()=>fe(()=>import("./trimodal-hook-results-BcUG9HPf-v2025.08.03.013.js"),__vite__mapDeps([6,1,2,3,4,5,7]))),os="/assets/logo.png";function js(){var ee;const{toast:s}=pe(),{logoutMutation:m,user:h,backendUser:t}=le(),[,l]=ge(),[o,j]=p.useState("tiktok"),[g,c]=p.useState("watch_time"),[u,x]=p.useState(""),[i,N]=p.useState(null),[b,v]=p.useState(!1),[y,n]=p.useState(void 0),[w,S]=p.useState(!1),[C,q]=p.useState(!0),[$e,E]=p.useState(!1),k=Qe(),{data:d}=K({queryKey:["/api/users/me"],queryFn:()=>$("GET","/api/users/me").then(a=>a.json())}),{data:z}=K({queryKey:["/api/credits/check"],queryFn:()=>$("GET","/api/credits/check").then(a=>a.json()),refetchInterval:6e4,staleTime:3e4}),{data:T}=K({queryKey:["/api/generations"],queryFn:()=>$("GET","/api/generations").then(a=>a.json()),staleTime:300*1e3,gcTime:600*1e3,refetchOnWindowFocus:!1});useEffect(()=>{T&&T.length>0&&!i&&N(T[0])},[T,i]);const X=ae({mutationFn:async a=>{S(!0);try{const f=await $("POST","/api/generate-hooks",a);if(!f.ok){const H=await f.json();throw f.status===403&&H.error==="Credit limit reached"?(n({remainingCredits:H.remainingCredits||0,isAtLimit:!0}),v(!0),new Error("Credit limit reached")):new Error(H.message||"Failed to generate hooks")}const L=await f.json();return S(!1),L}catch(f){throw S(!1),f}},onSuccess:a=>{var f;N(a),se.invalidateQueries({queryKey:["/api/generations"]}),se.invalidateQueries({queryKey:["/api/credits/check"]}),s({title:"Hooks generated successfully!",description:`Generated ${((f=a.hooks)==null?void 0:f.length)||0} hooks for ${o}`})},onError:a=>{const f=a instanceof Error?a.message:"Something went wrong";f!=="Credit limit reached"&&s({title:"Error generating hooks",description:f,variant:"destructive"})}}),G=ae({mutationFn:async a=>{const L=await(await $("POST","/api/export-csv",{generationId:a})).blob(),H=window.URL.createObjectURL(L),B=document.createElement("a");B.href=H,B.download=`hooks-${o}-${Date.now()}.csv`,B.click(),window.URL.revokeObjectURL(H)},onSuccess:()=>{s({title:"CSV exported successfully!",description:"Your hooks have been downloaded as a CSV file."})},onError:a=>{const f=a instanceof Error?a.message:"Something went wrong";s({title:"Export failed",description:f,variant:"destructive"})}}),I=p.useCallback(()=>{if(!(t!=null&&t.id)){s({title:"No user profile found",description:"Please complete onboarding first.",variant:"destructive"});return}if(!u.trim()){s({title:"Topic required",description:"Please describe your video idea.",variant:"destructive"});return}X.mutate({platform:o,objective:g,topic:u.trim()})},[t==null?void 0:t.id,u,o,g,X,s]),J=()=>{i!=null&&i.id&&G.mutate(i.id)},Z=()=>{I()},Fe=useMemo(()=>[{value:"tiktok",label:"TikTok",icon:"TikTok",color:"bg-black",textColor:"text-white"},{value:"instagram",label:"Reels",icon:"Instagram",color:"bg-gradient-to-r from-purple-500 to-pink-500",textColor:"text-white"},{value:"youtube",label:"Shorts",icon:"YouTube",color:"bg-red-600",textColor:"text-white"}],[]),ze=useMemo(()=>[{value:"watch_time",label:"Watch time"},{value:"shares",label:"Shares"},{value:"saves",label:"Saves"},{value:"ctr",label:"Click-through rate"}],[]);return t!=null&&t.id?e.jsx(Ge,{children:e.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[e.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),e.jsx("a",{href:"#hook-generator",className:"skip-link",children:"Skip to hook generator"}),k?e.jsx(Je,{user:d,credits:z,onNewHook:()=>E(!0)}):e.jsx("header",{className:"bg-white border-b border-slate-200 px-4 sm:px-6 py-3 sm:py-4 sticky top-0 z-10",role:"banner",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx("img",{src:os,alt:"Hook Line Studio Logo",className:"w-8 h-8 sm:w-10 sm:h-10 object-contain",role:"img"}),e.jsx("span",{className:"font-semibold text-slate-900 text-sm sm:text-base",children:"Hook Line Studio"})]}),e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-4",children:[(d==null?void 0:d.company)&&e.jsxs("div",{className:"hidden lg:flex items-center space-x-2 px-2 py-1 bg-slate-50 rounded border border-slate-200",role:"status","aria-label":"Current company",children:[e.jsx(O,{className:"w-3 h-3 text-slate-600","aria-hidden":"true"}),e.jsx("span",{className:"text-xs font-medium text-slate-700",children:d.company})]}),z&&!(d!=null&&d.isPremium)&&e.jsx("div",{className:"flex items-center space-x-1 px-2 py-1 bg-brass/10 rounded border border-brass/20",role:"status","aria-label":`${z.remainingCredits} credits remaining`,children:e.jsxs("span",{className:"text-xs font-medium text-navy",children:[z.remainingCredits," credits"]})}),(d==null?void 0:d.isPremium)&&e.jsx("div",{className:"flex items-center space-x-1 px-2 py-1 bg-navy/10 rounded border border-navy/20",role:"status","aria-label":"Premium account",children:e.jsx("span",{className:"text-xs font-medium text-navy",children:"Premium"})}),e.jsxs("nav",{role:"navigation","aria-label":"Secondary navigation",children:[e.jsxs(r,{variant:"ghost",size:"sm",onClick:()=>l("/favorites"),"aria-label":"Go to your favorite hooks",className:"relative p-2 focus-visible",children:[e.jsx(Y,{className:"w-4 h-4"}),e.jsx("span",{className:"ml-1 text-xs",children:"Favorites"})]}),e.jsxs(r,{variant:"ghost",size:"sm",title:"Generation History",className:"p-2",onClick:()=>l("/history"),children:[e.jsx(we,{className:"w-4 h-4"}),e.jsx("span",{className:"ml-1 text-xs",children:"History"})]}),e.jsxs(He,{children:[e.jsx(Pe,{asChild:!0,children:e.jsxs(r,{variant:"ghost",size:"sm",className:"flex items-center space-x-1 p-2",children:[d!=null&&d.profileImageUrl?e.jsx("img",{src:d.profileImageUrl,alt:"Profile",className:"w-6 h-6 rounded-full object-cover"}):e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:(d==null?void 0:d.firstName)||"Profile"}),e.jsx(We,{className:"w-3 h-3"})]})}),e.jsxs(Ee,{align:"end",className:"w-56",children:[e.jsxs("div",{className:"px-3 py-2 border-b border-slate-100",children:[e.jsx("p",{className:"text-sm font-medium",children:(d==null?void 0:d.firstName)||(d==null?void 0:d.email)}),e.jsx("p",{className:"text-xs text-slate-500",children:d==null?void 0:d.email})]}),e.jsxs(P,{onClick:()=>l("/profile"),children:[e.jsx(Q,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Profile Settings"})]}),e.jsxs(P,{onClick:()=>l("/profile/companies"),children:[e.jsx(O,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Manage Companies"})]}),e.jsxs(P,{onClick:()=>l("/billing"),children:[e.jsx(ke,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Billing & Plans"})]}),e.jsx(Le,{}),e.jsxs(P,{onClick:()=>m.mutate(),children:[e.jsx(ye,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Log out"})]})]})]})]})]})]})}),e.jsx(es,{isOpen:$e,onOpenChange:E,selectedPlatform:o,setSelectedPlatform:j,objective:g,setObjective:c,topic:u,setTopic:x,onGenerate:I,isGenerating:w,generations:T,setCurrentGeneration:N}),e.jsxs("main",{id:"main-content",className:`flex-1 flex ${k?"flex-col":"flex-col lg:flex-row"} overflow-hidden`,role:"main","aria-label":"Hook generation workspace",children:[!k&&e.jsx("aside",{id:"hook-generator",className:"w-full lg:w-1/3 bg-white border-b lg:border-b-0 lg:border-r border-slate-200 p-4 sm:p-6 overflow-y-auto",role:"complementary","aria-label":"Hook generation form",children:e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-3 sm:mb-4",children:"Create New Hooks"}),e.jsxs("fieldset",{className:"mb-4 sm:mb-6",children:[e.jsx("legend",{className:"text-sm font-medium text-slate-700 mb-2 sm:mb-3 block",children:"Platform"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",role:"radiogroup","aria-label":"Select content platform",children:Fe.map(a=>{const f=o===a.value,L=a.value==="tiktok"?R:a.value==="instagram"?V:_;return e.jsxs(r,{type:"button",variant:"outline",className:`p-2 sm:p-3 h-auto flex-col space-y-1 text-xs relative overflow-hidden focus-visible ${f?`${a.color} ${a.textColor} border-transparent`:"bg-white hover:bg-slate-50 border-slate-200"}`,onClick:()=>j(a.value),role:"radio","aria-checked":f,"aria-label":`Select ${a.label} platform`,children:[e.jsx(L,{className:`text-sm sm:text-lg ${f?a.textColor:a.value==="tiktok"?"text-black":a.value==="instagram"?"text-pink-500":"text-red-600"}`,"aria-hidden":"true"}),e.jsx("span",{className:`text-xs font-medium ${f?a.textColor:"text-slate-700"}`,children:a.label})]},a.value)})})]}),e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx(F,{htmlFor:"objective",className:"text-sm font-medium text-slate-700 mb-2 block",children:"Objective"}),e.jsxs(de,{value:g,onValueChange:a=>c(a),children:[e.jsx(me,{id:"objective",className:"h-10 sm:h-11 focus-visible","aria-label":"Select content objective",children:e.jsx(xe,{placeholder:"Choose your goal"})}),e.jsx(he,{children:ze.map(a=>e.jsx(ue,{value:a.value,children:a.label},a.value))})]})]}),e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx(F,{htmlFor:"topic",className:"text-sm font-medium text-slate-700 mb-2 block",children:"Video Topic"}),e.jsx(Te,{id:"topic",placeholder:"Describe your video idea... e.g., '7-day sugar-free experiment results'",value:u,onChange:a=>x(a.target.value),className:"h-24 sm:h-32 resize-none text-sm focus-visible","aria-describedby":"topic-description","aria-label":"Video topic description"}),e.jsx("p",{id:"topic-description",className:"text-xs text-slate-500 mt-1",children:"Be specific about what your video will cover"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(r,{className:"w-full py-3 sm:py-4 text-sm sm:text-lg font-semibold shadow-lg hover:shadow-xl focus-visible",onClick:I,disabled:w||!u.trim(),"aria-label":w?"Generating hooks, please wait":"Generate 10 hooks from your video topic","aria-describedby":y!=null&&y.isAtLimit?"credit-limit-warning":void 0,children:[e.jsx(W,{className:`w-4 h-4 mr-2 ${w?"animate-spin":""}`,"aria-hidden":"true"}),w?"Generating...":"Generate 10 Hooks"]}),(y==null?void 0:y.isAtLimit)&&e.jsx("p",{id:"credit-limit-warning",className:"text-xs text-red-600",role:"alert",children:"You've reached your credit limit. Please upgrade to continue generating hooks."})]})]}),T&&T.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Me,{}),e.jsxs("section",{"aria-labelledby":"recent-topics-heading",children:[e.jsx("h3",{id:"recent-topics-heading",className:"text-sm font-medium text-slate-700 mb-3",children:"Recent Topics"}),e.jsx("div",{className:"space-y-2",role:"list","aria-label":"Recent hook generations",children:T.slice(0,5).map(a=>e.jsx(r,{variant:"ghost",className:"w-full justify-start h-auto p-3 bg-slate-50 hover:bg-slate-100 focus-visible",onClick:()=>N(a),role:"listitem","aria-label":`Load hooks for ${a.topic} on ${a.platform}`,children:e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm text-slate-900 font-medium truncate",children:a.topic}),e.jsxs("p",{className:"text-xs text-slate-500",children:[a.platform," • ",a.createdAt?new Date(a.createdAt).toLocaleDateString():""]})]})},a.id))})]})]})]})}),e.jsx("section",{className:`flex-1 flex flex-col bg-slate-50 overflow-hidden ${k?"pb-20":""}`,"aria-label":"Generated hooks results",children:i?e.jsxs(e.Fragment,{children:[!k&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-shrink-0 bg-white border-b border-slate-200 p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Generated Hooks"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-slate-100 rounded-full text-sm",children:[i.platform==="tiktok"&&e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"h-4 w-4 text-black"})," ",e.jsx("span",{className:"font-medium",children:"TikTok"})]}),i.platform==="instagram"&&e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"h-4 w-4 text-pink-500"})," ",e.jsx("span",{className:"font-medium",children:"Instagram"})]}),i.platform==="youtube"&&e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"h-4 w-4 text-red-500"})," ",e.jsx("span",{className:"font-medium",children:"YouTube"})]})]}),e.jsx("div",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:i.objective.replace("_"," ").charAt(0).toUpperCase()+i.objective.replace("_"," ").slice(1)})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 max-w-2xl",children:[e.jsx("div",{className:"text-xs font-medium text-blue-700 mb-1",children:"ORIGINAL TOPIC"}),e.jsxs("div",{className:"text-sm text-blue-900 font-medium",children:['"',i.topic,'"']})]}),e.jsxs("p",{className:"text-sm text-slate-600",children:[((ee=i.hooks)==null?void 0:ee.length)||0," hooks generated • Click to copy or save favorites"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(r,{variant:"outline",onClick:J,disabled:G.isPending,className:"hover:bg-slate-50",children:[e.jsx(Ce,{className:"w-4 h-4 mr-2"}),G.isPending?"Exporting...":"Export CSV"]}),e.jsxs(r,{className:"bg-blue-600 hover:bg-blue-700 text-white shadow-sm",onClick:Z,disabled:w,children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"Try 10 More"]})]})]})}),e.jsx("div",{className:"px-6 py-3 border-b bg-slate-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-slate-700",children:"Hook Display Mode"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(r,{variant:C?"outline":"default",size:"sm",onClick:()=>q(!1),className:"text-xs",children:"Classic View"}),e.jsx(r,{variant:C?"default":"outline",size:"sm",onClick:()=>q(!0),className:"text-xs bg-purple-600 hover:bg-purple-700 text-white",children:"✨ Tri-Modal View"})]})]})})]}),k&&e.jsxs("div",{className:"bg-white border-b border-slate-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Hooks Generated"}),e.jsxs(r,{variant:"outline",size:"sm",onClick:()=>E(!0),className:"text-xs",children:[e.jsx(D,{className:"w-4 h-4 mr-1"}),"New"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[i.platform==="tiktok"&&e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"h-4 w-4 text-black"})," ",e.jsx("span",{className:"text-sm font-medium",children:"TikTok"})]}),i.platform==="instagram"&&e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"h-4 w-4 text-pink-500"})," ",e.jsx("span",{className:"text-sm font-medium",children:"Instagram"})]}),i.platform==="youtube"&&e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"h-4 w-4 text-red-500"})," ",e.jsx("span",{className:"text-sm font-medium",children:"YouTube"})]}),e.jsx("span",{className:"text-xs text-slate-500",children:"•"}),e.jsx("span",{className:"text-xs text-slate-600",children:i.objective.replace("_"," ")})]}),e.jsxs("p",{className:"text-sm text-slate-600 line-clamp-2",children:['"',i.topic,'"']})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:e.jsx(p.Suspense,{fallback:k?e.jsx(ls,{}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600",children:"Loading results..."})]})}),children:k?e.jsx(ts,{generation:i,userId:(t==null?void 0:t.id)||"",useTriModalView:C}):C?e.jsx(rs,{generation:i,userId:(t==null?void 0:t.id)||""}):e.jsx(is,{generation:i,userId:(t==null?void 0:t.id)||""})})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-6",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-100 to-blue-200 rounded-2xl flex items-center justify-center mb-6",children:e.jsx(W,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:`${k?"text-lg":"text-xl"} font-semibold text-slate-900 mb-3`,children:"Ready to create engaging hooks?"}),e.jsx("p",{className:"text-slate-600 mb-6 max-w-md leading-relaxed text-sm",children:k?"Tap the button below to start generating hooks for your content.":"Choose your platform, describe your video idea, and get 10 platform-optimized hooks in 30 seconds."}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(r,{onClick:k?()=>E(!0):I,disabled:!k&&(w||!u.trim()),className:"bg-blue-600 hover:bg-blue-700",children:k?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Create Your First Hook"]}):w?"Generating...":"Generate Your First Hooks"}),!k&&e.jsxs(r,{variant:"outline",children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),"Watch Tutorial"]})]})]})})]}),k&&e.jsx(Ze,{onExport:J,onGenerateMore:Z,onNewHook:()=>E(!0),onToggleView:()=>q(!C),isExporting:G.isPending,isGenerating:w,useTriModalView:C,hasHooks:!!i,className:"fixed bottom-0 left-0 right-0 z-40"}),e.jsx(Xe,{isOpen:b,onClose:()=>v(!1),creditInfo:y})]})}):e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",role:"main","aria-label":"Profile setup required",children:e.jsx(be,{className:"max-w-md w-full mx-4",children:e.jsxs(je,{className:"pt-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-secondary rounded-2xl flex items-center justify-center mx-auto mb-4","aria-hidden":"true",children:e.jsx(te,{className:"w-8 h-8 text-white","aria-hidden":"true"})}),e.jsx("h1",{className:"text-xl font-semibold mb-2",children:"Welcome to Hook Line Studio"}),e.jsx("p",{className:"text-slate-600 mb-6",children:"Please complete your profile setup to start generating hooks."}),e.jsx(r,{onClick:()=>l("/onboarding"),className:"focus-visible","aria-label":"Complete profile setup to access hook generation",children:"Complete Setup"})]})})})}export{js as default};
