var ms=t=>{throw TypeError(t)};var ar=(t,e,n)=>e.has(t)||ms("Cannot "+n);var l=(t,e,n)=>(ar(t,e,"read from private field"),n?n.call(t):e.get(t)),k=(t,e,n)=>e.has(t)?ms("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),b=(t,e,n,r)=>(ar(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),N=(t,e,n)=>(ar(t,e,"access private method"),n);var Cn=(t,e,n,r)=>({set _(s){b(t,e,s,n)},get _(){return l(t,e,r)}});import{r as q,u as Ui,g as Sr,s as or,a as ro,b as so}from"./react-vendor-CTpIrEzv-v2025.08.03.010.js";import{c as io}from"./utils-vendor-BkLtITBR-v2025.08.03.010.js";var Fi={exports:{}},ji={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(_,C){var P=_.length;_.push(C);e:for(;0<P;){var K=P-1>>>1,ee=_[K];if(0<s(ee,C))_[K]=C,_[P]=ee,P=K;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var C=_[0],P=_.pop();if(P!==C){_[0]=P;e:for(var K=0,ee=_.length,kn=ee>>>1;K<kn;){var ct=2*(K+1)-1,ir=_[ct],ut=ct+1,An=_[ut];if(0>s(ir,P))ut<ee&&0>s(An,ir)?(_[K]=An,_[ut]=P,K=ut):(_[K]=ir,_[ct]=P,K=ct);else if(ut<ee&&0>s(An,P))_[K]=An,_[ut]=P,K=ut;else break e}}return C}function s(_,C){var P=_.sortIndex-C.sortIndex;return P!==0?P:_.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var u=[],c=[],d=1,h=null,f=3,p=!1,m=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(_){for(var C=n(c);C!==null;){if(C.callback===null)r(c);else if(C.startTime<=_)r(c),C.sortIndex=C.expirationTime,e(u,C);else break;C=n(c)}}function D(_){if(y=!1,T(_),!m)if(n(u)!==null)m=!0,ue(R);else{var C=n(c);C!==null&&re(D,C.startTime-_)}}function R(_,C){m=!1,y&&(y=!1,S(B),B=-1),p=!0;var P=f;try{for(T(C),h=n(u);h!==null&&(!(h.expirationTime>C)||_&&!X());){var K=h.callback;if(typeof K=="function"){h.callback=null,f=h.priorityLevel;var ee=K(h.expirationTime<=C);C=t.unstable_now(),typeof ee=="function"?h.callback=ee:h===n(u)&&r(u),T(C)}else r(u);h=n(u)}if(h!==null)var kn=!0;else{var ct=n(c);ct!==null&&re(D,ct.startTime-C),kn=!1}return kn}finally{h=null,f=P,p=!1}}var W=!1,z=null,B=-1,H=5,Q=-1;function X(){return!(t.unstable_now()-Q<H)}function J(){if(z!==null){var _=t.unstable_now();Q=_;var C=!0;try{C=z(!0,_)}finally{C?ae():(W=!1,z=null)}}else W=!1}var ae;if(typeof A=="function")ae=function(){A(J)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Pe=Y.port2;Y.port1.onmessage=J,ae=function(){Pe.postMessage(null)}}else ae=function(){v(J,0)};function ue(_){z=_,W||(W=!0,ae())}function re(_,C){B=v(function(){_(t.unstable_now())},C)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_){_.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,ue(R))},t.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<_?Math.floor(1e3/_):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(_){switch(f){case 1:case 2:case 3:var C=3;break;default:C=f}var P=f;f=C;try{return _()}finally{f=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_,C){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var P=f;f=_;try{return C()}finally{f=P}},t.unstable_scheduleCallback=function(_,C,P){var K=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?K+P:K):P=K,_){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=P+ee,_={id:d++,callback:C,priorityLevel:_,startTime:P,expirationTime:ee,sortIndex:-1},P>K?(_.sortIndex=P,e(c,_),n(u)===null&&_===n(c)&&(y?(S(B),B=-1):y=!0,re(D,P-K))):(_.sortIndex=ee,e(u,_),m||p||(m=!0,ue(R))),_},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(_){var C=f;return function(){var P=f;f=C;try{return _.apply(this,arguments)}finally{f=P}}}})(ji);Fi.exports=ji;var hh=Fi.exports;function ao(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,a=[],o="",u=t.split("/");for(u[0]||u.shift();s=u.shift();)n=s[0],n==="*"?(a.push(n),o+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),a.push(s.substring(1,~r?r:~i?i:s.length)),o+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~r?"?":"")+"\\"+s.substring(i))):o+="/"+s;return{keys:a,pattern:new RegExp("^"+o+(e?"(?=$|/)":"/?$"),"i")}}var $i={exports:{}},Vi={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ht=q;function oo(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var co=typeof Object.is=="function"?Object.is:oo,uo=Ht.useState,lo=Ht.useEffect,ho=Ht.useLayoutEffect,fo=Ht.useDebugValue;function po(t,e){var n=e(),r=uo({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return ho(function(){s.value=n,s.getSnapshot=e,cr(s)&&i({inst:s})},[t,n,e]),lo(function(){return cr(s)&&i({inst:s}),t(function(){cr(s)&&i({inst:s})})},[t]),fo(n),n}function cr(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!co(t,n)}catch{return!0}}function mo(t,e){return e()}var go=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mo:po;Vi.useSyncExternalStore=Ht.useSyncExternalStore!==void 0?Ht.useSyncExternalStore:go;$i.exports=Vi;var yo=$i.exports;const vo="popstate",Jr="pushState",Xr="replaceState",_o="hashchange",gs=[vo,Jr,Xr,_o],bo=t=>{for(const e of gs)addEventListener(e,t);return()=>{for(const e of gs)removeEventListener(e,t)}},Bi=(t,e)=>yo.useSyncExternalStore(bo,t,e),wo=()=>location.search,So=({ssrSearch:t=""}={})=>Bi(wo,()=>t),ys=()=>location.pathname,Eo=({ssrPath:t}={})=>Bi(ys,t?()=>t:ys),xo=(t,{replace:e=!1,state:n=null}={})=>history[e?Xr:Jr](n,"",t),ko=(t={})=>[Eo(t),xo],vs=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[vs]>"u"){for(const t of[Jr,Xr]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,vs,{value:!0})}const Ao=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Hi=(t="")=>t==="/"?"":t,Co=(t,e)=>t[0]==="~"?t.slice(1):Hi(e)+t,To=(t="",e)=>Ao(_s(Hi(t)),_s(e)),_s=t=>{try{return decodeURI(t)}catch{return t}},Wi={hook:ko,searchHook:So,parser:ao,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},zi=q.createContext(Wi),wn=()=>q.useContext(zi),Zi={},qi=q.createContext(Zi),Io=()=>q.useContext(qi),Yn=t=>{const[e,n]=t.hook(t);return[To(t.base,e),Ui((r,s)=>n(Co(r,t.base),s))]},fh=()=>Yn(wn()),Ki=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),a=s.exec(n)||[],[o,...u]=a;return o!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((h,f)=>[h,u[f]])):a.groups;let d={...u};return c&&Object.assign(d,c),d})(),...r?[o]:[]]:[!1,null]},Oo=({children:t,...e})=>{const n=wn(),r=e.hook?Wi:n;let s=r;const[i,a]=e.ssrPath?.split("?")??[];a&&(e.ssrSearch=a,e.ssrPath=i),e.hrefs=e.hrefs??e.hook?.hrefs;let o=q.useRef({}),u=o.current,c=u;for(let d in r){const h=d==="base"?r[d]+(e[d]||""):e[d]||r[d];u===c&&h!==c[d]&&(o.current=c={...c}),c[d]=h,(h!==r[d]||h!==s[d])&&(s=c)}return q.createElement(zi.Provider,{value:s,children:t})},bs=({children:t,component:e},n)=>e?q.createElement(e,{params:n}):typeof t=="function"?t(n):t,Ro=t=>{let e=q.useRef(Zi);const n=e.current;return e.current=Object.keys(t).length!==Object.keys(n).length||Object.entries(t).some(([r,s])=>s!==n[r])?t:n},ph=({path:t,nest:e,match:n,...r})=>{const s=wn(),[i]=Yn(s),[a,o,u]=n??Ki(s.parser,t,i,e),c=Ro({...Io(),...o});if(!a)return null;const d=u?q.createElement(Oo,{base:u},bs(r,c)):bs(r,c);return q.createElement(qi.Provider,{value:c,children:d})},mh=q.forwardRef((t,e)=>{const n=wn(),[r,s]=Yn(n),{to:i="",href:a=i,onClick:o,asChild:u,children:c,className:d,replace:h,state:f,...p}=t,m=Ui(v=>{v.ctrlKey||v.metaKey||v.altKey||v.shiftKey||v.button!==0||(o?.(v),v.defaultPrevented||(v.preventDefault(),s(a,t)))}),y=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return u&&q.isValidElement(c)?q.cloneElement(c,{onClick:m,href:y}):q.createElement("a",{...p,onClick:m,href:y,className:d?.call?d(r===a):d,children:c,ref:e})}),Qi=t=>Array.isArray(t)?t.flatMap(e=>Qi(e&&e.type===q.Fragment?e.props.children:e)):[t],gh=({children:t,location:e})=>{const n=wn(),[r]=Yn(n);for(const s of Qi(t)){let i=0;if(q.isValidElement(s)&&(i=Ki(n.parser,s.props.path,e||r,s.props.nest))[0])return q.cloneElement(s,{match:i})}return null};var Gt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Wt=typeof window>"u"||"Deno"in globalThis;function pe(){}function Po(t,e){return typeof t=="function"?t(e):t}function Er(t){return typeof t=="number"&&t>=0&&t!==1/0}function Gi(t,e){return Math.max(t+(e||0)-Date.now(),0)}function tt(t,e){return typeof t=="function"?t(e):t}function me(t,e){return typeof t=="function"?t(e):t}function ws(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==Yr(a,e.options))return!1}else if(!cn(e.queryKey,a))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||s&&s!==e.state.fetchStatus||i&&!i(e))}function Ss(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(bt(e.options.mutationKey)!==bt(i))return!1}else if(!cn(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Yr(t,e){return(e?.queryKeyHashFn||bt)(t)}function bt(t){return JSON.stringify(t,(e,n)=>xr(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function cn(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>cn(t[n],e[n])):!1}function Ji(t,e){if(t===e)return t;const n=Es(t)&&Es(e);if(n||xr(t)&&xr(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),a=i.length,o=n?[]:{},u=new Set(r);let c=0;for(let d=0;d<a;d++){const h=n?d:i[d];(!n&&u.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(o[h]=void 0,c++):(o[h]=Ji(t[h],e[h]),o[h]===t[h]&&t[h]!==void 0&&c++)}return s===a&&c===s?t:o}return e}function Fn(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Es(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function xr(t){if(!xs(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!xs(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function xs(t){return Object.prototype.toString.call(t)==="[object Object]"}function No(t){return new Promise(e=>{setTimeout(e,t)})}function kr(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Ji(t,e):e}function Do(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Lo(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var es=Symbol();function Xi(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===es?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function yh(t,e){return typeof t=="function"?t(...e):!!t}var dt,We,Rt,Ci,Mo=(Ci=class extends Gt{constructor(){super();k(this,dt);k(this,We);k(this,Rt);b(this,Rt,e=>{if(!Wt&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){l(this,We)||this.setEventListener(l(this,Rt))}onUnsubscribe(){var e;this.hasListeners()||((e=l(this,We))==null||e.call(this),b(this,We,void 0))}setEventListener(e){var n;b(this,Rt,e),(n=l(this,We))==null||n.call(this),b(this,We,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){l(this,dt)!==e&&(b(this,dt,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){return typeof l(this,dt)=="boolean"?l(this,dt):globalThis.document?.visibilityState!=="hidden"}},dt=new WeakMap,We=new WeakMap,Rt=new WeakMap,Ci),ts=new Mo,Pt,ze,Nt,Ti,Uo=(Ti=class extends Gt{constructor(){super();k(this,Pt,!0);k(this,ze);k(this,Nt);b(this,Nt,e=>{if(!Wt&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){l(this,ze)||this.setEventListener(l(this,Nt))}onUnsubscribe(){var e;this.hasListeners()||((e=l(this,ze))==null||e.call(this),b(this,ze,void 0))}setEventListener(e){var n;b(this,Nt,e),(n=l(this,ze))==null||n.call(this),b(this,ze,e(this.setOnline.bind(this)))}setOnline(e){l(this,Pt)!==e&&(b(this,Pt,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return l(this,Pt)}},Pt=new WeakMap,ze=new WeakMap,Nt=new WeakMap,Ti),jn=new Uo;function Ar(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function Fo(t){return Math.min(1e3*2**t,3e4)}function Yi(t){return(t??"online")==="online"?jn.isOnline():!0}var ea=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function ur(t){return t instanceof ea}function ta(t){let e=!1,n=0,r=!1,s;const i=Ar(),a=y=>{r||(f(new ea(y)),t.abort?.())},o=()=>{e=!0},u=()=>{e=!1},c=()=>ts.isFocused()&&(t.networkMode==="always"||jn.isOnline())&&t.canRun(),d=()=>Yi(t.networkMode)&&t.canRun(),h=y=>{r||(r=!0,t.onSuccess?.(y),s?.(),i.resolve(y))},f=y=>{r||(r=!0,t.onError?.(y),s?.(),i.reject(y))},p=()=>new Promise(y=>{s=v=>{(r||c())&&y(v)},t.onPause?.()}).then(()=>{s=void 0,r||t.onContinue?.()}),m=()=>{if(r)return;let y;const v=n===0?t.initialPromise:void 0;try{y=v??t.fn()}catch(S){y=Promise.reject(S)}Promise.resolve(y).then(h).catch(S=>{if(r)return;const A=t.retry??(Wt?0:3),T=t.retryDelay??Fo,D=typeof T=="function"?T(n,S):T,R=A===!0||typeof A=="number"&&n<A||typeof A=="function"&&A(n,S);if(e||!R){f(S);return}n++,t.onFail?.(n,S),No(D).then(()=>c()?void 0:p()).then(()=>{e?f(S):m()})})};return{promise:i,cancel:a,continue:()=>(s?.(),i),cancelRetry:o,continueRetry:u,canStart:d,start:()=>(d()?m():p().then(m),i)}}var jo=t=>setTimeout(t,0);function $o(){let t=[],e=0,n=o=>{o()},r=o=>{o()},s=jo;const i=o=>{e?t.push(o):s(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&s(()=>{r(()=>{o.forEach(u=>{n(u)})})})};return{batch:o=>{let u;e++;try{u=o()}finally{e--,e||a()}return u},batchCalls:o=>(...u)=>{i(()=>{o(...u)})},schedule:i,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{s=o}}}var te=$o(),ht,Ii,na=(Ii=class{constructor(){k(this,ht)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Er(this.gcTime)&&b(this,ht,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Wt?1/0:300*1e3))}clearGcTimeout(){l(this,ht)&&(clearTimeout(l(this,ht)),b(this,ht,void 0))}},ht=new WeakMap,Ii),Dt,ft,fe,pt,ne,yn,mt,ve,Ne,Oi,Vo=(Oi=class extends na{constructor(e){super();k(this,ve);k(this,Dt);k(this,ft);k(this,fe);k(this,pt);k(this,ne);k(this,yn);k(this,mt);b(this,mt,!1),b(this,yn,e.defaultOptions),this.setOptions(e.options),this.observers=[],b(this,pt,e.client),b(this,fe,l(this,pt).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,b(this,Dt,Bo(this.options)),this.state=e.state??l(this,Dt),this.scheduleGc()}get meta(){return this.options.meta}get promise(){return l(this,ne)?.promise}setOptions(e){this.options={...l(this,yn),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&l(this,fe).remove(this)}setData(e,n){const r=kr(this.state.data,e,this.options);return N(this,ve,Ne).call(this,{data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){N(this,ve,Ne).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){const n=l(this,ne)?.promise;return l(this,ne)?.cancel(e),n?n.then(pe).catch(pe):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(l(this,Dt))}isActive(){return this.observers.some(e=>me(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===es||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>tt(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Gi(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),l(this,ne)?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),l(this,ne)?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),l(this,fe).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(l(this,ne)&&(l(this,mt)?l(this,ne).cancel({revert:!0}):l(this,ne).cancelRetry()),this.scheduleGc()),l(this,fe).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||N(this,ve,Ne).call(this,{type:"invalidate"})}fetch(e,n){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(l(this,ne))return l(this,ne).continueRetry(),l(this,ne).promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const r=new AbortController,s=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(b(this,mt,!0),r.signal)})},i=()=>{const c=Xi(this.options,n),h=(()=>{const f={client:l(this,pt),queryKey:this.queryKey,meta:this.meta};return s(f),f})();return b(this,mt,!1),this.options.persister?this.options.persister(c,h,this):c(h)},o=(()=>{const c={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:l(this,pt),state:this.state,fetchFn:i};return s(c),c})();this.options.behavior?.onFetch(o,this),b(this,ft,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&N(this,ve,Ne).call(this,{type:"fetch",meta:o.fetchOptions?.meta});const u=c=>{ur(c)&&c.silent||N(this,ve,Ne).call(this,{type:"error",error:c}),ur(c)||(l(this,fe).config.onError?.(c,this),l(this,fe).config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return b(this,ne,ta({initialPromise:n?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:c=>{if(c===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(d){u(d);return}l(this,fe).config.onSuccess?.(c,this),l(this,fe).config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:u,onFail:(c,d)=>{N(this,ve,Ne).call(this,{type:"failed",failureCount:c,error:d})},onPause:()=>{N(this,ve,Ne).call(this,{type:"pause"})},onContinue:()=>{N(this,ve,Ne).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),l(this,ne).start()}},Dt=new WeakMap,ft=new WeakMap,fe=new WeakMap,pt=new WeakMap,ne=new WeakMap,yn=new WeakMap,mt=new WeakMap,ve=new WeakSet,Ne=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...ra(r.data,this.options),fetchMeta:e.meta??null};case"success":return b(this,ft,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return ur(s)&&s.revert&&l(this,ft)?{...l(this,ft),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),te.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),l(this,fe).notify({query:this,type:"updated",action:e})})},Oi);function ra(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Yi(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Bo(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Se,Ri,Ho=(Ri=class extends Gt{constructor(e={}){super();k(this,Se);this.config=e,b(this,Se,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Yr(s,n);let a=this.get(i);return a||(a=new Vo({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){l(this,Se).has(e.queryHash)||(l(this,Se).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=l(this,Se).get(e.queryHash);n&&(e.destroy(),n===e&&l(this,Se).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){te.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return l(this,Se).get(e)}getAll(){return[...l(this,Se).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>ws(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>ws(e,r)):n}notify(e){te.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){te.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){te.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Se=new WeakMap,Ri),Ee,se,gt,xe,Be,Pi,Wo=(Pi=class extends na{constructor(e){super();k(this,xe);k(this,Ee);k(this,se);k(this,gt);this.mutationId=e.mutationId,b(this,se,e.mutationCache),b(this,Ee,[]),this.state=e.state||sa(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){l(this,Ee).includes(e)||(l(this,Ee).push(e),this.clearGcTimeout(),l(this,se).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){b(this,Ee,l(this,Ee).filter(n=>n!==e)),this.scheduleGc(),l(this,se).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){l(this,Ee).length||(this.state.status==="pending"?this.scheduleGc():l(this,se).remove(this))}continue(){return l(this,gt)?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{N(this,xe,Be).call(this,{type:"continue"})};b(this,gt,ta({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{N(this,xe,Be).call(this,{type:"failed",failureCount:i,error:a})},onPause:()=>{N(this,xe,Be).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>l(this,se).canRun(this)}));const r=this.state.status==="pending",s=!l(this,gt).canStart();try{if(r)n();else{N(this,xe,Be).call(this,{type:"pending",variables:e,isPaused:s}),await l(this,se).config.onMutate?.(e,this);const a=await this.options.onMutate?.(e);a!==this.state.context&&N(this,xe,Be).call(this,{type:"pending",context:a,variables:e,isPaused:s})}const i=await l(this,gt).start();return await l(this,se).config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await l(this,se).config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),N(this,xe,Be).call(this,{type:"success",data:i}),i}catch(i){try{throw await l(this,se).config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await l(this,se).config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{N(this,xe,Be).call(this,{type:"error",error:i})}}finally{l(this,se).runNext(this)}}},Ee=new WeakMap,se=new WeakMap,gt=new WeakMap,xe=new WeakSet,Be=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),te.batch(()=>{l(this,Ee).forEach(r=>{r.onMutationUpdate(e)}),l(this,se).notify({mutation:this,type:"updated",action:e})})},Pi);function sa(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var De,_e,vn,Ni,zo=(Ni=class extends Gt{constructor(e={}){super();k(this,De);k(this,_e);k(this,vn);this.config=e,b(this,De,new Set),b(this,_e,new Map),b(this,vn,0)}build(e,n,r){const s=new Wo({mutationCache:this,mutationId:++Cn(this,vn)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){l(this,De).add(e);const n=Tn(e);if(typeof n=="string"){const r=l(this,_e).get(n);r?r.push(e):l(this,_e).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(l(this,De).delete(e)){const n=Tn(e);if(typeof n=="string"){const r=l(this,_e).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&l(this,_e).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Tn(e);if(typeof n=="string"){const s=l(this,_e).get(n)?.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){const n=Tn(e);return typeof n=="string"?l(this,_e).get(n)?.find(s=>s!==e&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){te.batch(()=>{l(this,De).forEach(e=>{this.notify({type:"removed",mutation:e})}),l(this,De).clear(),l(this,_e).clear()})}getAll(){return Array.from(l(this,De))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Ss(n,r))}findAll(e={}){return this.getAll().filter(n=>Ss(e,n))}notify(e){te.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return te.batch(()=>Promise.all(e.map(n=>n.continue().catch(pe))))}},De=new WeakMap,_e=new WeakMap,vn=new WeakMap,Ni);function Tn(t){return t.options.scope?.id}function ks(t){return{onFetch:(e,n)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,i=e.state.data?.pages||[],a=e.state.data?.pageParams||[];let o={pages:[],pageParams:[]},u=0;const c=async()=>{let d=!1;const h=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},f=Xi(e.options,e.fetchOptions),p=async(m,y,v)=>{if(d)return Promise.reject();if(y==null&&m.pages.length)return Promise.resolve(m);const A=(()=>{const W={client:e.client,queryKey:e.queryKey,pageParam:y,direction:v?"backward":"forward",meta:e.options.meta};return h(W),W})(),T=await f(A),{maxPages:D}=e.options,R=v?Lo:Do;return{pages:R(m.pages,T,D),pageParams:R(m.pageParams,y,D)}};if(s&&i.length){const m=s==="backward",y=m?Zo:As,v={pages:i,pageParams:a},S=y(r,v);o=await p(v,S,m)}else{const m=t??i.length;do{const y=u===0?a[0]??r.initialPageParam:As(r,o);if(u>0&&y==null)break;o=await p(o,y),u++}while(u<m)}return o};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=c}}}function As(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Zo(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var Z,Ze,qe,Lt,Mt,Ke,Ut,Ft,Di,vh=(Di=class{constructor(t={}){k(this,Z);k(this,Ze);k(this,qe);k(this,Lt);k(this,Mt);k(this,Ke);k(this,Ut);k(this,Ft);b(this,Z,t.queryCache||new Ho),b(this,Ze,t.mutationCache||new zo),b(this,qe,t.defaultOptions||{}),b(this,Lt,new Map),b(this,Mt,new Map),b(this,Ke,0)}mount(){Cn(this,Ke)._++,l(this,Ke)===1&&(b(this,Ut,ts.subscribe(async t=>{t&&(await this.resumePausedMutations(),l(this,Z).onFocus())})),b(this,Ft,jn.subscribe(async t=>{t&&(await this.resumePausedMutations(),l(this,Z).onOnline())})))}unmount(){var t,e;Cn(this,Ke)._--,l(this,Ke)===0&&((t=l(this,Ut))==null||t.call(this),b(this,Ut,void 0),(e=l(this,Ft))==null||e.call(this),b(this,Ft,void 0))}isFetching(t){return l(this,Z).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return l(this,Ze).findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return l(this,Z).get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=l(this,Z).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(tt(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return l(this,Z).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=l(this,Z).get(r.queryHash)?.state.data,a=Po(e,i);if(a!==void 0)return l(this,Z).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return te.batch(()=>l(this,Z).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return l(this,Z).get(e.queryHash)?.state}removeQueries(t){const e=l(this,Z);te.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=l(this,Z);return te.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=te.batch(()=>l(this,Z).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(pe).catch(pe)}invalidateQueries(t,e={}){return te.batch(()=>(l(this,Z).findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=te.batch(()=>l(this,Z).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(pe)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(pe)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=l(this,Z).build(this,e);return n.isStaleByTime(tt(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(pe).catch(pe)}fetchInfiniteQuery(t){return t.behavior=ks(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(pe).catch(pe)}ensureInfiniteQueryData(t){return t.behavior=ks(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return jn.isOnline()?l(this,Ze).resumePausedMutations():Promise.resolve()}getQueryCache(){return l(this,Z)}getMutationCache(){return l(this,Ze)}getDefaultOptions(){return l(this,qe)}setDefaultOptions(t){b(this,qe,t)}setQueryDefaults(t,e){l(this,Lt).set(bt(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...l(this,Lt).values()],n={};return e.forEach(r=>{cn(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){l(this,Mt).set(bt(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...l(this,Mt).values()],n={};return e.forEach(r=>{cn(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...l(this,qe).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Yr(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===es&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...l(this,qe).mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){l(this,Z).clear(),l(this,Ze).clear()}},Z=new WeakMap,Ze=new WeakMap,qe=new WeakMap,Lt=new WeakMap,Mt=new WeakMap,Ke=new WeakMap,Ut=new WeakMap,Ft=new WeakMap,Di),oe,M,_n,ie,yt,jt,Qe,Ge,bn,$t,Vt,vt,_t,Je,Bt,$,tn,Cr,Tr,Ir,Or,Rr,Pr,Nr,ia,Li,_h=(Li=class extends Gt{constructor(e,n){super();k(this,$);k(this,oe);k(this,M);k(this,_n);k(this,ie);k(this,yt);k(this,jt);k(this,Qe);k(this,Ge);k(this,bn);k(this,$t);k(this,Vt);k(this,vt);k(this,_t);k(this,Je);k(this,Bt,new Set);this.options=n,b(this,oe,e),b(this,Ge,null),b(this,Qe,Ar()),this.options.experimental_prefetchInRender||l(this,Qe).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(l(this,M).addObserver(this),Cs(l(this,M),this.options)?N(this,$,tn).call(this):this.updateResult(),N(this,$,Or).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Dr(l(this,M),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Dr(l(this,M),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,N(this,$,Rr).call(this),N(this,$,Pr).call(this),l(this,M).removeObserver(this)}setOptions(e){const n=this.options,r=l(this,M);if(this.options=l(this,oe).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof me(this.options.enabled,l(this,M))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");N(this,$,Nr).call(this),l(this,M).setOptions(this.options),n._defaulted&&!Fn(this.options,n)&&l(this,oe).getQueryCache().notify({type:"observerOptionsUpdated",query:l(this,M),observer:this});const s=this.hasListeners();s&&Ts(l(this,M),r,this.options,n)&&N(this,$,tn).call(this),this.updateResult(),s&&(l(this,M)!==r||me(this.options.enabled,l(this,M))!==me(n.enabled,l(this,M))||tt(this.options.staleTime,l(this,M))!==tt(n.staleTime,l(this,M)))&&N(this,$,Cr).call(this);const i=N(this,$,Tr).call(this);s&&(l(this,M)!==r||me(this.options.enabled,l(this,M))!==me(n.enabled,l(this,M))||i!==l(this,Je))&&N(this,$,Ir).call(this,i)}getOptimisticResult(e){const n=l(this,oe).getQueryCache().build(l(this,oe),e),r=this.createResult(n,e);return Ko(this,r)&&(b(this,ie,r),b(this,jt,this.options),b(this,yt,l(this,M).state)),r}getCurrentResult(){return l(this,ie)}trackResult(e,n){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),n?.(s),Reflect.get(r,s))})}trackProp(e){l(this,Bt).add(e)}getCurrentQuery(){return l(this,M)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=l(this,oe).defaultQueryOptions(e),r=l(this,oe).getQueryCache().build(l(this,oe),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return N(this,$,tn).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),l(this,ie)))}createResult(e,n){const r=l(this,M),s=this.options,i=l(this,ie),a=l(this,yt),o=l(this,jt),c=e!==r?e.state:l(this,_n),{state:d}=e;let h={...d},f=!1,p;if(n._optimisticResults){const H=this.hasListeners(),Q=!H&&Cs(e,n),X=H&&Ts(e,r,n,s);(Q||X)&&(h={...h,...ra(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:v}=h;p=h.data;let S=!1;if(n.placeholderData!==void 0&&p===void 0&&v==="pending"){let H;i?.isPlaceholderData&&n.placeholderData===o?.placeholderData?(H=i.data,S=!0):H=typeof n.placeholderData=="function"?n.placeholderData(l(this,Vt)?.state.data,l(this,Vt)):n.placeholderData,H!==void 0&&(v="success",p=kr(i?.data,H,n),f=!0)}if(n.select&&p!==void 0&&!S)if(i&&p===a?.data&&n.select===l(this,bn))p=l(this,$t);else try{b(this,bn,n.select),p=n.select(p),p=kr(i?.data,p,n),b(this,$t,p),b(this,Ge,null)}catch(H){b(this,Ge,H)}l(this,Ge)&&(m=l(this,Ge),p=l(this,$t),y=Date.now(),v="error");const A=h.fetchStatus==="fetching",T=v==="pending",D=v==="error",R=T&&A,W=p!==void 0,B={status:v,fetchStatus:h.fetchStatus,isPending:T,isSuccess:v==="success",isError:D,isInitialLoading:R,isLoading:R,data:p,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:A,isRefetching:A&&!T,isLoadingError:D&&!W,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:D&&W,isStale:ns(e,n),refetch:this.refetch,promise:l(this,Qe),isEnabled:me(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const H=J=>{B.status==="error"?J.reject(B.error):B.data!==void 0&&J.resolve(B.data)},Q=()=>{const J=b(this,Qe,B.promise=Ar());H(J)},X=l(this,Qe);switch(X.status){case"pending":e.queryHash===r.queryHash&&H(X);break;case"fulfilled":(B.status==="error"||B.data!==X.value)&&Q();break;case"rejected":(B.status!=="error"||B.error!==X.reason)&&Q();break}}return B}updateResult(){const e=l(this,ie),n=this.createResult(l(this,M),this.options);if(b(this,yt,l(this,M).state),b(this,jt,this.options),l(this,yt).data!==void 0&&b(this,Vt,l(this,M)),Fn(n,e))return;b(this,ie,n);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!l(this,Bt).size)return!0;const a=new Set(i??l(this,Bt));return this.options.throwOnError&&a.add("error"),Object.keys(l(this,ie)).some(o=>{const u=o;return l(this,ie)[u]!==e[u]&&a.has(u)})};N(this,$,ia).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&N(this,$,Or).call(this)}},oe=new WeakMap,M=new WeakMap,_n=new WeakMap,ie=new WeakMap,yt=new WeakMap,jt=new WeakMap,Qe=new WeakMap,Ge=new WeakMap,bn=new WeakMap,$t=new WeakMap,Vt=new WeakMap,vt=new WeakMap,_t=new WeakMap,Je=new WeakMap,Bt=new WeakMap,$=new WeakSet,tn=function(e){N(this,$,Nr).call(this);let n=l(this,M).fetch(this.options,e);return e?.throwOnError||(n=n.catch(pe)),n},Cr=function(){N(this,$,Rr).call(this);const e=tt(this.options.staleTime,l(this,M));if(Wt||l(this,ie).isStale||!Er(e))return;const r=Gi(l(this,ie).dataUpdatedAt,e)+1;b(this,vt,setTimeout(()=>{l(this,ie).isStale||this.updateResult()},r))},Tr=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(l(this,M)):this.options.refetchInterval)??!1},Ir=function(e){N(this,$,Pr).call(this),b(this,Je,e),!(Wt||me(this.options.enabled,l(this,M))===!1||!Er(l(this,Je))||l(this,Je)===0)&&b(this,_t,setInterval(()=>{(this.options.refetchIntervalInBackground||ts.isFocused())&&N(this,$,tn).call(this)},l(this,Je)))},Or=function(){N(this,$,Cr).call(this),N(this,$,Ir).call(this,N(this,$,Tr).call(this))},Rr=function(){l(this,vt)&&(clearTimeout(l(this,vt)),b(this,vt,void 0))},Pr=function(){l(this,_t)&&(clearInterval(l(this,_t)),b(this,_t,void 0))},Nr=function(){const e=l(this,oe).getQueryCache().build(l(this,oe),this.options);if(e===l(this,M))return;const n=l(this,M);b(this,M,e),b(this,_n,e.state),this.hasListeners()&&(n?.removeObserver(this),e.addObserver(this))},ia=function(e){te.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(l(this,ie))}),l(this,oe).getQueryCache().notify({query:l(this,M),type:"observerResultsUpdated"})})},Li);function qo(t,e){return me(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Cs(t,e){return qo(t,e)||t.state.data!==void 0&&Dr(t,e,e.refetchOnMount)}function Dr(t,e,n){if(me(e.enabled,t)!==!1&&tt(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&ns(t,e)}return!1}function Ts(t,e,n,r){return(t!==e||me(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&ns(t,n)}function ns(t,e){return me(e.enabled,t)!==!1&&t.isStaleByTime(tt(e.staleTime,t))}function Ko(t,e){return!Fn(t.getCurrentResult(),e)}var Xe,Ye,ce,Le,Me,Ln,Lr,Mi,bh=(Mi=class extends Gt{constructor(e,n){super();k(this,Me);k(this,Xe);k(this,Ye);k(this,ce);k(this,Le);b(this,Xe,e),this.setOptions(n),this.bindMethods(),N(this,Me,Ln).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=l(this,Xe).defaultMutationOptions(e),Fn(this.options,n)||l(this,Xe).getMutationCache().notify({type:"observerOptionsUpdated",mutation:l(this,ce),observer:this}),n?.mutationKey&&this.options.mutationKey&&bt(n.mutationKey)!==bt(this.options.mutationKey)?this.reset():l(this,ce)?.state.status==="pending"&&l(this,ce).setOptions(this.options)}onUnsubscribe(){this.hasListeners()||l(this,ce)?.removeObserver(this)}onMutationUpdate(e){N(this,Me,Ln).call(this),N(this,Me,Lr).call(this,e)}getCurrentResult(){return l(this,Ye)}reset(){l(this,ce)?.removeObserver(this),b(this,ce,void 0),N(this,Me,Ln).call(this),N(this,Me,Lr).call(this)}mutate(e,n){return b(this,Le,n),l(this,ce)?.removeObserver(this),b(this,ce,l(this,Xe).getMutationCache().build(l(this,Xe),this.options)),l(this,ce).addObserver(this),l(this,ce).execute(e)}},Xe=new WeakMap,Ye=new WeakMap,ce=new WeakMap,Le=new WeakMap,Me=new WeakSet,Ln=function(){const e=l(this,ce)?.state??sa();b(this,Ye,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},Lr=function(e){te.batch(()=>{if(l(this,Le)&&this.hasListeners()){const n=l(this,Ye).variables,r=l(this,Ye).context;e?.type==="success"?(l(this,Le).onSuccess?.(e.data,n,r),l(this,Le).onSettled?.(e.data,null,n,r)):e?.type==="error"&&(l(this,Le).onError?.(e.error,n,r),l(this,Le).onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(l(this,Ye))})})},Mi);const Is=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Os=io,wh=(t,e)=>n=>{var r;if(e?.variants==null)return Os(t,n?.class,n?.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(c=>{const d=n?.[c],h=i?.[c];if(d===null)return null;const f=Is(d)||Is(h);return s[c][f]}),o=n&&Object.entries(n).reduce((c,d)=>{let[h,f]=d;return f===void 0||(c[h]=f),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(m=>{let[y,v]=m;return Array.isArray(v)?v.includes({...i,...o}[y]):{...i,...o}[y]===v})?[...c,h,f]:c},[]);return Os(t,a,u,n?.class,n?.className)},Qo=["top","right","bottom","left"],st=Math.min,le=Math.max,$n=Math.round,In=Math.floor,Ce=t=>({x:t,y:t}),Go={left:"right",right:"left",bottom:"top",top:"bottom"},Jo={start:"end",end:"start"};function Mr(t,e,n){return le(t,st(e,n))}function Ue(t,e){return typeof t=="function"?t(e):t}function Fe(t){return t.split("-")[0]}function Jt(t){return t.split("-")[1]}function rs(t){return t==="x"?"y":"x"}function ss(t){return t==="y"?"height":"width"}const Xo=new Set(["top","bottom"]);function ke(t){return Xo.has(Fe(t))?"y":"x"}function is(t){return rs(ke(t))}function Yo(t,e,n){n===void 0&&(n=!1);const r=Jt(t),s=is(t),i=ss(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Vn(a)),[a,Vn(a)]}function ec(t){const e=Vn(t);return[Ur(t),e,Ur(e)]}function Ur(t){return t.replace(/start|end/g,e=>Jo[e])}const Rs=["left","right"],Ps=["right","left"],tc=["top","bottom"],nc=["bottom","top"];function rc(t,e,n){switch(t){case"top":case"bottom":return n?e?Ps:Rs:e?Rs:Ps;case"left":case"right":return e?tc:nc;default:return[]}}function sc(t,e,n,r){const s=Jt(t);let i=rc(Fe(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(Ur)))),i}function Vn(t){return t.replace(/left|right|bottom|top/g,e=>Go[e])}function ic(t){return{top:0,right:0,bottom:0,left:0,...t}}function aa(t){return typeof t!="number"?ic(t):{top:t,right:t,bottom:t,left:t}}function Bn(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Ns(t,e,n){let{reference:r,floating:s}=t;const i=ke(e),a=is(e),o=ss(a),u=Fe(e),c=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[o]/2-s[o]/2;let p;switch(u){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Jt(e)){case"start":p[a]-=f*(n&&c?-1:1);break;case"end":p[a]+=f*(n&&c?-1:1);break}return p}const ac=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,o=i.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=Ns(c,r,u),f=r,p={},m=0;for(let y=0;y<o.length;y++){const{name:v,fn:S}=o[y],{x:A,y:T,data:D,reset:R}=await S({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:p,rects:c,platform:a,elements:{reference:t,floating:e}});d=A??d,h=T??h,p={...p,[v]:{...p[v],...D}},R&&m<=50&&(m++,typeof R=="object"&&(R.placement&&(f=R.placement),R.rects&&(c=R.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):R.rects),{x:d,y:h}=Ns(c,f,u)),y=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:p}};async function un(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:o,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Ue(e,t),m=aa(p),v=o[f?h==="floating"?"reference":"floating":h],S=Bn(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:u})),A=h==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),D=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},R=Bn(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:A,offsetParent:T,strategy:u}):A);return{top:(S.top-R.top+m.top)/D.y,bottom:(R.bottom-S.bottom+m.bottom)/D.y,left:(S.left-R.left+m.left)/D.x,right:(R.right-S.right+m.right)/D.x}}const oc=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:o,middlewareData:u}=e,{element:c,padding:d=0}=Ue(t,e)||{};if(c==null)return{};const h=aa(d),f={x:n,y:r},p=is(s),m=ss(p),y=await a.getDimensions(c),v=p==="y",S=v?"top":"left",A=v?"bottom":"right",T=v?"clientHeight":"clientWidth",D=i.reference[m]+i.reference[p]-f[p]-i.floating[m],R=f[p]-i.reference[p],W=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let z=W?W[T]:0;(!z||!await(a.isElement==null?void 0:a.isElement(W)))&&(z=o.floating[T]||i.floating[m]);const B=D/2-R/2,H=z/2-y[m]/2-1,Q=st(h[S],H),X=st(h[A],H),J=Q,ae=z-y[m]-X,Y=z/2-y[m]/2+B,Pe=Mr(J,Y,ae),ue=!u.arrow&&Jt(s)!=null&&Y!==Pe&&i.reference[m]/2-(Y<J?Q:X)-y[m]/2<0,re=ue?Y<J?Y-J:Y-ae:0;return{[p]:f[p]+re,data:{[p]:Pe,centerOffset:Y-Pe-re,...ue&&{alignmentOffset:re}},reset:ue}}}),cc=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:o,platform:u,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:y=!0,...v}=Ue(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const S=Fe(s),A=ke(o),T=Fe(o)===o,D=await(u.isRTL==null?void 0:u.isRTL(c.floating)),R=f||(T||!y?[Vn(o)]:ec(o)),W=m!=="none";!f&&W&&R.push(...sc(o,y,m,D));const z=[o,...R],B=await un(e,v),H=[];let Q=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&H.push(B[S]),h){const Y=Yo(s,a,D);H.push(B[Y[0]],B[Y[1]])}if(Q=[...Q,{placement:s,overflows:H}],!H.every(Y=>Y<=0)){var X,J;const Y=(((X=i.flip)==null?void 0:X.index)||0)+1,Pe=z[Y];if(Pe&&(!(h==="alignment"?A!==ke(Pe):!1)||Q.every(_=>ke(_.placement)===A?_.overflows[0]>0:!0)))return{data:{index:Y,overflows:Q},reset:{placement:Pe}};let ue=(J=Q.filter(re=>re.overflows[0]<=0).sort((re,_)=>re.overflows[1]-_.overflows[1])[0])==null?void 0:J.placement;if(!ue)switch(p){case"bestFit":{var ae;const re=(ae=Q.filter(_=>{if(W){const C=ke(_.placement);return C===A||C==="y"}return!0}).map(_=>[_.placement,_.overflows.filter(C=>C>0).reduce((C,P)=>C+P,0)]).sort((_,C)=>_[1]-C[1])[0])==null?void 0:ae[0];re&&(ue=re);break}case"initialPlacement":ue=o;break}if(s!==ue)return{reset:{placement:ue}}}return{}}}};function Ds(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ls(t){return Qo.some(e=>t[e]>=0)}const uc=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ue(t,e);switch(r){case"referenceHidden":{const i=await un(e,{...s,elementContext:"reference"}),a=Ds(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Ls(a)}}}case"escaped":{const i=await un(e,{...s,altBoundary:!0}),a=Ds(i,n.floating);return{data:{escapedOffsets:a,escaped:Ls(a)}}}default:return{}}}}},oa=new Set(["left","top"]);async function lc(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=Fe(n),o=Jt(n),u=ke(n)==="y",c=oa.has(a)?-1:1,d=i&&u?-1:1,h=Ue(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof m=="number"&&(p=o==="end"?m*-1:m),u?{x:p*d,y:f*c}:{x:f*c,y:p*d}}const dc=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:o}=e,u=await lc(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:a}}}}},hc=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:o={fn:v=>{let{x:S,y:A}=v;return{x:S,y:A}}},...u}=Ue(t,e),c={x:n,y:r},d=await un(e,u),h=ke(Fe(s)),f=rs(h);let p=c[f],m=c[h];if(i){const v=f==="y"?"top":"left",S=f==="y"?"bottom":"right",A=p+d[v],T=p-d[S];p=Mr(A,p,T)}if(a){const v=h==="y"?"top":"left",S=h==="y"?"bottom":"right",A=m+d[v],T=m-d[S];m=Mr(A,m,T)}const y=o.fn({...e,[f]:p,[h]:m});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[f]:i,[h]:a}}}}}},fc=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:o=0,mainAxis:u=!0,crossAxis:c=!0}=Ue(t,e),d={x:n,y:r},h=ke(s),f=rs(h);let p=d[f],m=d[h];const y=Ue(o,e),v=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(u){const T=f==="y"?"height":"width",D=i.reference[f]-i.floating[T]+v.mainAxis,R=i.reference[f]+i.reference[T]-v.mainAxis;p<D?p=D:p>R&&(p=R)}if(c){var S,A;const T=f==="y"?"width":"height",D=oa.has(Fe(s)),R=i.reference[h]-i.floating[T]+(D&&((S=a.offset)==null?void 0:S[h])||0)+(D?0:v.crossAxis),W=i.reference[h]+i.reference[T]+(D?0:((A=a.offset)==null?void 0:A[h])||0)-(D?v.crossAxis:0);m<R?m=R:m>W&&(m=W)}return{[f]:p,[h]:m}}}},pc=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:o}=e,{apply:u=()=>{},...c}=Ue(t,e),d=await un(e,c),h=Fe(s),f=Jt(s),p=ke(s)==="y",{width:m,height:y}=i.floating;let v,S;h==="top"||h==="bottom"?(v=h,S=f===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(S=h,v=f==="end"?"top":"bottom");const A=y-d.top-d.bottom,T=m-d.left-d.right,D=st(y-d[v],A),R=st(m-d[S],T),W=!e.middlewareData.shift;let z=D,B=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(B=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(z=A),W&&!f){const Q=le(d.left,0),X=le(d.right,0),J=le(d.top,0),ae=le(d.bottom,0);p?B=m-2*(Q!==0||X!==0?Q+X:le(d.left,d.right)):z=y-2*(J!==0||ae!==0?J+ae:le(d.top,d.bottom))}await u({...e,availableWidth:B,availableHeight:z});const H=await a.getDimensions(o.floating);return m!==H.width||y!==H.height?{reset:{rects:!0}}:{}}}};function er(){return typeof window<"u"}function Xt(t){return ca(t)?(t.nodeName||"").toLowerCase():"#document"}function de(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Re(t){var e;return(e=(ca(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ca(t){return er()?t instanceof Node||t instanceof de(t).Node:!1}function be(t){return er()?t instanceof Element||t instanceof de(t).Element:!1}function Ie(t){return er()?t instanceof HTMLElement||t instanceof de(t).HTMLElement:!1}function Ms(t){return!er()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof de(t).ShadowRoot}const mc=new Set(["inline","contents"]);function Sn(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=we(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!mc.has(s)}const gc=new Set(["table","td","th"]);function yc(t){return gc.has(Xt(t))}const vc=[":popover-open",":modal"];function tr(t){return vc.some(e=>{try{return t.matches(e)}catch{return!1}})}const _c=["transform","translate","scale","rotate","perspective"],bc=["transform","translate","scale","rotate","perspective","filter"],wc=["paint","layout","strict","content"];function as(t){const e=os(),n=be(t)?we(t):t;return _c.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||bc.some(r=>(n.willChange||"").includes(r))||wc.some(r=>(n.contain||"").includes(r))}function Sc(t){let e=it(t);for(;Ie(e)&&!zt(e);){if(as(e))return e;if(tr(e))return null;e=it(e)}return null}function os(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ec=new Set(["html","body","#document"]);function zt(t){return Ec.has(Xt(t))}function we(t){return de(t).getComputedStyle(t)}function nr(t){return be(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function it(t){if(Xt(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ms(t)&&t.host||Re(t);return Ms(e)?e.host:e}function ua(t){const e=it(t);return zt(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ie(e)&&Sn(e)?e:ua(e)}function ln(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=ua(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=de(s);if(i){const o=Fr(a);return e.concat(a,a.visualViewport||[],Sn(s)?s:[],o&&n?ln(o):[])}return e.concat(s,ln(s,[],n))}function Fr(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function la(t){const e=we(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ie(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,o=$n(n)!==i||$n(r)!==a;return o&&(n=i,r=a),{width:n,height:r,$:o}}function cs(t){return be(t)?t:t.contextElement}function Ct(t){const e=cs(t);if(!Ie(e))return Ce(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=la(e);let a=(i?$n(n.width):n.width)/r,o=(i?$n(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const xc=Ce(0);function da(t){const e=de(t);return!os()||!e.visualViewport?xc:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kc(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==de(t)?!1:e}function wt(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=cs(t);let a=Ce(1);e&&(r?be(r)&&(a=Ct(r)):a=Ct(t));const o=kc(i,n,r)?da(i):Ce(0);let u=(s.left+o.x)/a.x,c=(s.top+o.y)/a.y,d=s.width/a.x,h=s.height/a.y;if(i){const f=de(i),p=r&&be(r)?de(r):r;let m=f,y=Fr(m);for(;y&&r&&p!==m;){const v=Ct(y),S=y.getBoundingClientRect(),A=we(y),T=S.left+(y.clientLeft+parseFloat(A.paddingLeft))*v.x,D=S.top+(y.clientTop+parseFloat(A.paddingTop))*v.y;u*=v.x,c*=v.y,d*=v.x,h*=v.y,u+=T,c+=D,m=de(y),y=Fr(m)}}return Bn({width:d,height:h,x:u,y:c})}function us(t,e){const n=nr(t).scrollLeft;return e?e.left+n:wt(Re(t)).left+n}function ha(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:us(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function Ac(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=Re(r),o=e?tr(e.floating):!1;if(r===a||o&&i)return n;let u={scrollLeft:0,scrollTop:0},c=Ce(1);const d=Ce(0),h=Ie(r);if((h||!h&&!i)&&((Xt(r)!=="body"||Sn(a))&&(u=nr(r)),Ie(r))){const p=wt(r);c=Ct(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const f=a&&!h&&!i?ha(a,u,!0):Ce(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x+f.x,y:n.y*c.y-u.scrollTop*c.y+d.y+f.y}}function Cc(t){return Array.from(t.getClientRects())}function Tc(t){const e=Re(t),n=nr(t),r=t.ownerDocument.body,s=le(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=le(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+us(t);const o=-n.scrollTop;return we(r).direction==="rtl"&&(a+=le(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:o}}function Ic(t,e){const n=de(t),r=Re(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,o=0,u=0;if(s){i=s.width,a=s.height;const c=os();(!c||c&&e==="fixed")&&(o=s.offsetLeft,u=s.offsetTop)}return{width:i,height:a,x:o,y:u}}const Oc=new Set(["absolute","fixed"]);function Rc(t,e){const n=wt(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ie(t)?Ct(t):Ce(1),a=t.clientWidth*i.x,o=t.clientHeight*i.y,u=s*i.x,c=r*i.y;return{width:a,height:o,x:u,y:c}}function Us(t,e,n){let r;if(e==="viewport")r=Ic(t,n);else if(e==="document")r=Tc(Re(t));else if(be(e))r=Rc(e,n);else{const s=da(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Bn(r)}function fa(t,e){const n=it(t);return n===e||!be(n)||zt(n)?!1:we(n).position==="fixed"||fa(n,e)}function Pc(t,e){const n=e.get(t);if(n)return n;let r=ln(t,[],!1).filter(o=>be(o)&&Xt(o)!=="body"),s=null;const i=we(t).position==="fixed";let a=i?it(t):t;for(;be(a)&&!zt(a);){const o=we(a),u=as(a);!u&&o.position==="fixed"&&(s=null),(i?!u&&!s:!u&&o.position==="static"&&!!s&&Oc.has(s.position)||Sn(a)&&!u&&fa(t,a))?r=r.filter(d=>d!==a):s=o,a=it(a)}return e.set(t,r),r}function Nc(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?tr(e)?[]:Pc(e,this._c):[].concat(n),r],o=a[0],u=a.reduce((c,d)=>{const h=Us(e,d,s);return c.top=le(h.top,c.top),c.right=st(h.right,c.right),c.bottom=st(h.bottom,c.bottom),c.left=le(h.left,c.left),c},Us(e,o,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Dc(t){const{width:e,height:n}=la(t);return{width:e,height:n}}function Lc(t,e,n){const r=Ie(e),s=Re(e),i=n==="fixed",a=wt(t,!0,i,e);let o={scrollLeft:0,scrollTop:0};const u=Ce(0);function c(){u.x=us(s)}if(r||!r&&!i)if((Xt(e)!=="body"||Sn(s))&&(o=nr(e)),r){const p=wt(e,!0,i,e);u.x=p.x+e.clientLeft,u.y=p.y+e.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?ha(s,o):Ce(0),h=a.left+o.scrollLeft-u.x-d.x,f=a.top+o.scrollTop-u.y-d.y;return{x:h,y:f,width:a.width,height:a.height}}function lr(t){return we(t).position==="static"}function Fs(t,e){if(!Ie(t)||we(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Re(t)===n&&(n=n.ownerDocument.body),n}function pa(t,e){const n=de(t);if(tr(t))return n;if(!Ie(t)){let s=it(t);for(;s&&!zt(s);){if(be(s)&&!lr(s))return s;s=it(s)}return n}let r=Fs(t,e);for(;r&&yc(r)&&lr(r);)r=Fs(r,e);return r&&zt(r)&&lr(r)&&!as(r)?n:r||Sc(t)||n}const Mc=async function(t){const e=this.getOffsetParent||pa,n=this.getDimensions,r=await n(t.floating);return{reference:Lc(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Uc(t){return we(t).direction==="rtl"}const Fc={convertOffsetParentRelativeRectToViewportRelativeRect:Ac,getDocumentElement:Re,getClippingRect:Nc,getOffsetParent:pa,getElementRects:Mc,getClientRects:Cc,getDimensions:Dc,getScale:Ct,isElement:be,isRTL:Uc};function ma(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function jc(t,e){let n=null,r;const s=Re(t);function i(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,u){o===void 0&&(o=!1),u===void 0&&(u=1),i();const c=t.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=c;if(o||e(),!f||!p)return;const m=In(h),y=In(s.clientWidth-(d+f)),v=In(s.clientHeight-(h+p)),S=In(d),T={rootMargin:-m+"px "+-y+"px "+-v+"px "+-S+"px",threshold:le(0,st(1,u))||1};let D=!0;function R(W){const z=W[0].intersectionRatio;if(z!==u){if(!D)return a();z?a(!1,z):r=setTimeout(()=>{a(!1,1e-7)},1e3)}z===1&&!ma(c,t.getBoundingClientRect())&&a(),D=!1}try{n=new IntersectionObserver(R,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(R,T)}n.observe(t)}return a(!0),i}function Sh(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=cs(t),d=s||i?[...c?ln(c):[],...ln(e)]:[];d.forEach(S=>{s&&S.addEventListener("scroll",n,{passive:!0}),i&&S.addEventListener("resize",n)});const h=c&&o?jc(c,n):null;let f=-1,p=null;a&&(p=new ResizeObserver(S=>{let[A]=S;A&&A.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=p)==null||T.observe(e)})),n()}),c&&!u&&p.observe(c),p.observe(e));let m,y=u?wt(t):null;u&&v();function v(){const S=wt(t);y&&!ma(y,S)&&n(),y=S,m=requestAnimationFrame(v)}return n(),()=>{var S;d.forEach(A=>{s&&A.removeEventListener("scroll",n),i&&A.removeEventListener("resize",n)}),h?.(),(S=p)==null||S.disconnect(),p=null,u&&cancelAnimationFrame(m)}}const Eh=dc,xh=hc,kh=cc,Ah=pc,Ch=uc,Th=oc,Ih=fc,Oh=(t,e,n)=>{const r=new Map,s={platform:Fc,...n},i={...s.platform,_c:r};return ac(t,e,{...s,platform:i})},$c=()=>{};var js={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Vc=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],o=t[n++],u=((s&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},ya={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,o=a?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,d=i>>2,h=(i&3)<<4|o>>4;let f=(o&15)<<2|c>>6,p=c&63;u||(p=64,a||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ga(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Vc(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],o=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||o==null||c==null||h==null)throw new Bc;const f=i<<2|o>>4;if(r.push(f),c!==64){const p=o<<4&240|c>>2;if(r.push(p),h!==64){const m=c<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Bc extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hc=function(t){const e=ga(t);return ya.encodeByteArray(e,!0)},va=function(t){return Hc(t).replace(/\./g,"")},_a=function(t){try{return ya.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=()=>Wc().__FIREBASE_DEFAULTS__,Zc=()=>{if(typeof process>"u"||typeof js>"u")return;const t=js.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qc=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_a(t[1]);return e&&JSON.parse(e)},Kc=()=>{try{return $c()||zc()||Zc()||qc()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Qc=t=>Kc()?.[`_${t}`];/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gc(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function Jc(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Xc(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Yc(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eu(){try{return typeof indexedDB=="object"}catch{return!1}}function tu(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu="FirebaseError";class Et extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nu,Object.setPrototypeOf(this,Et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,En.prototype.create)}}class En{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?ru(i,r):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new Et(s,o,r)}}function ru(t,e){return t.replace(su,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const su=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function iu(t,e){const n=new au(t,e);return n.subscribe.bind(n)}class au{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ou(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=dr),s.error===void 0&&(s.error=dr),s.complete===void 0&&(s.complete=dr);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ou(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dr(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t){return t&&t._delegate?t._delegate:t}class dn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(V||(V={}));const cu={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},uu=V.INFO,lu={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},du=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=lu[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sa{constructor(e){this.name=e,this._logLevel=uu,this._logHandler=du,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in V))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cu[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...e),this._logHandler(this,V.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...e),this._logHandler(this,V.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,V.INFO,...e),this._logHandler(this,V.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,V.WARN,...e),this._logHandler(this,V.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...e),this._logHandler(this,V.ERROR,...e)}}const hu=(t,e)=>e.some(n=>t instanceof n);let $s,Vs;function fu(){return $s||($s=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pu(){return Vs||(Vs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ea=new WeakMap,jr=new WeakMap,xa=new WeakMap,hr=new WeakMap,ls=new WeakMap;function mu(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(nt(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Ea.set(n,t)}).catch(()=>{}),ls.set(e,t),e}function gu(t){if(jr.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});jr.set(t,e)}let $r={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jr.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xa.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yu(t){$r=t($r)}function vu(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fr(this),e,...n);return xa.set(r,e.sort?e.sort():[e]),nt(r)}:pu().includes(t)?function(...e){return t.apply(fr(this),e),nt(Ea.get(this))}:function(...e){return nt(t.apply(fr(this),e))}}function _u(t){return typeof t=="function"?vu(t):(t instanceof IDBTransaction&&gu(t),hu(t,fu())?new Proxy(t,$r):t)}function nt(t){if(t instanceof IDBRequest)return mu(t);if(hr.has(t))return hr.get(t);const e=_u(t);return e!==t&&(hr.set(t,e),ls.set(e,t)),e}const fr=t=>ls.get(t);function bu(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),o=nt(a);return r&&a.addEventListener("upgradeneeded",u=>{r(nt(a.result),u.oldVersion,u.newVersion,nt(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const wu=["get","getKey","getAll","getAllKeys","count"],Su=["put","add","delete","clear"],pr=new Map;function Bs(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pr.get(e))return pr.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Su.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||wu.includes(n)))return;const i=async function(a,...o){const u=this.transaction(a,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),s&&u.done]))[0]};return pr.set(e,i),i}yu(t=>({...t,get:(e,n,r)=>Bs(e,n)||t.get(e,n,r),has:(e,n)=>!!Bs(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xu(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xu(t){return t.getComponent()?.type==="VERSION"}const Vr="@firebase/app",Hs="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je=new Sa("@firebase/app"),ku="@firebase/app-compat",Au="@firebase/analytics-compat",Cu="@firebase/analytics",Tu="@firebase/app-check-compat",Iu="@firebase/app-check",Ou="@firebase/auth",Ru="@firebase/auth-compat",Pu="@firebase/database",Nu="@firebase/data-connect",Du="@firebase/database-compat",Lu="@firebase/functions",Mu="@firebase/functions-compat",Uu="@firebase/installations",Fu="@firebase/installations-compat",ju="@firebase/messaging",$u="@firebase/messaging-compat",Vu="@firebase/performance",Bu="@firebase/performance-compat",Hu="@firebase/remote-config",Wu="@firebase/remote-config-compat",zu="@firebase/storage",Zu="@firebase/storage-compat",qu="@firebase/firestore",Ku="@firebase/ai",Qu="@firebase/firestore-compat",Gu="firebase",Ju="12.0.0",Xu={[Vr]:"fire-core",[ku]:"fire-core-compat",[Cu]:"fire-analytics",[Au]:"fire-analytics-compat",[Iu]:"fire-app-check",[Tu]:"fire-app-check-compat",[Ou]:"fire-auth",[Ru]:"fire-auth-compat",[Pu]:"fire-rtdb",[Nu]:"fire-data-connect",[Du]:"fire-rtdb-compat",[Lu]:"fire-fn",[Mu]:"fire-fn-compat",[Uu]:"fire-iid",[Fu]:"fire-iid-compat",[ju]:"fire-fcm",[$u]:"fire-fcm-compat",[Vu]:"fire-perf",[Bu]:"fire-perf-compat",[Hu]:"fire-rc",[Wu]:"fire-rc-compat",[zu]:"fire-gcs",[Zu]:"fire-gcs-compat",[qu]:"fire-fst",[Qu]:"fire-fst-compat",[Ku]:"fire-vertex","fire-js":"fire-js",[Gu]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new Map,el=new Map,Ws=new Map;function zs(t,e){try{t.container.addComponent(e)}catch(n){je.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hn(t){const e=t.name;if(Ws.has(e))return je.debug(`There were multiple attempts to register component ${e}.`),!1;Ws.set(e,t);for(const n of Yu.values())zs(n,t);for(const n of el.values())zs(n,t);return!0}function kt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ds=new En("app","Firebase",tl);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=Ju;function Tt(t,e,n){let r=Xu[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),je.warn(a.join(" "));return}hn(new dn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl="firebase-heartbeat-database",rl=1,fn="firebase-heartbeat-store";let mr=null;function ka(){return mr||(mr=bu(nl,rl,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fn)}catch(n){console.warn(n)}}}}).catch(t=>{throw ds.create("idb-open",{originalErrorMessage:t.message})})),mr}async function sl(t){try{const n=(await ka()).transaction(fn),r=await n.objectStore(fn).get(Aa(t));return await n.done,r}catch(e){if(e instanceof Et)je.warn(e.message);else{const n=ds.create("idb-get",{originalErrorMessage:e?.message});je.warn(n.message)}}}async function Zs(t,e){try{const r=(await ka()).transaction(fn,"readwrite");await r.objectStore(fn).put(e,Aa(t)),await r.done}catch(n){if(n instanceof Et)je.warn(n.message);else{const r=ds.create("idb-set",{originalErrorMessage:n?.message});je.warn(r.message)}}}function Aa(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=1024,al=30;class ol{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ul(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qs();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>al){const s=ll(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){je.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qs(),{heartbeatsToSend:n,unsentEntries:r}=cl(this._heartbeatsCache.heartbeats),s=va(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return je.warn(e),""}}}function qs(){return new Date().toISOString().substring(0,10)}function cl(t,e=il){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),Ks(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ks(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ul{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eu()?tu().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sl(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Zs(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Zs(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ks(t){return va(JSON.stringify({version:2,heartbeats:t})).length}function ll(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(t){hn(new dn("platform-logger",e=>new Eu(e),"PRIVATE")),hn(new dn("heartbeat",e=>new ol(e),"PRIVATE")),Tt(Vr,Hs,t),Tt(Vr,Hs,"esm2020"),Tt("fire-js","")}dl("");function Ca(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hl=Ca,Ta=new En("auth","Firebase",Ca());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn=new Sa("@firebase/auth");function fl(t,...e){Hn.logLevel<=V.WARN&&Hn.warn(`Auth (${hs}): ${t}`,...e)}function Mn(t,...e){Hn.logLevel<=V.ERROR&&Hn.error(`Auth (${hs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(t,...e){throw fs(t,...e)}function Ia(t,...e){return fs(t,...e)}function Oa(t,e,n){const r={...hl(),[e]:n};return new En("auth","Firebase",r).create(e,{appName:t.name})}function Un(t){return Oa(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fs(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ta.create(t,...e)}function j(t,e,...n){if(!t)throw fs(e,...n)}function an(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Mn(e),new Error(e)}function Wn(t,e){t||an(e)}function pl(){return Gs()==="http:"||Gs()==="https:"}function Gs(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pl()||Xc()||"connection"in navigator)?navigator.onLine:!0}function gl(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wn(n>e,"Short delay should be less than long delay!"),this.isMobile=Gc()||Yc()}get(){return ml()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t,e){Wn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;an("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;an("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;an("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bl=new xn(3e4,6e4);function Pa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function sr(t,e,n,r,s={}){return Na(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const o=wa({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:u,...i};return Jc()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&ba(t.emulatorConfig.host)&&(c.credentials="include"),Ra.fetch()(await Da(t,t.config.apiHost,n,o),c)})}async function Na(t,e,n){t._canInitEmulator=!1;const r={...vl,...e};try{const s=new wl(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw On(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const o=i.ok?a.errorMessage:a.error.message,[u,c]=o.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw On(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw On(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw On(t,"user-disabled",a);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Oa(t,d,c);Qs(t,d)}}catch(s){if(s instanceof Et)throw s;Qs(t,"network-request-failed",{message:String(s)})}}async function Da(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?yl(t.config,s):`${t.config.apiScheme}://${s}`;return _l.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}class wl{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ia(this.auth,"network-request-failed")),bl.get())})}}function On(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ia(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(t,e){return sr(t,"POST","/v1/accounts:delete",e)}async function zn(t,e){return sr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function El(t,e=!1){const n=rr(t),r=await n.getIdToken(e),s=La(r);j(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i?.sign_in_provider;return{claims:s,token:r,authTime:on(gr(s.auth_time)),issuedAtTime:on(gr(s.iat)),expirationTime:on(gr(s.exp)),signInProvider:a||null,signInSecondFactor:i?.sign_in_second_factor||null}}function gr(t){return Number(t)*1e3}function La(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Mn("JWT malformed, contained fewer than 3 sections"),null;try{const s=_a(n);return s?JSON.parse(s):(Mn("Failed to decode base64 JWT payload"),null)}catch(s){return Mn("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Js(t){const e=La(t);return j(e,"internal-error"),j(typeof e.exp<"u","internal-error"),j(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Br(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Et&&xl(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function xl({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=on(this.lastLoginAt),this.creationTime=on(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zn(t){const e=t.auth,n=await t.getIdToken(),r=await Br(t,zn(e,{idToken:n}));j(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=s.providerUserInfo?.length?Ma(s.providerUserInfo):[],a=Cl(t.providerData,i),o=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,c=o?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Hr(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function Al(t){const e=rr(t);await Zn(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Cl(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Ma(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(t,e){const n=await Na(t,{},async()=>{const r=wa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await Da(t,s,"/v1/token",`key=${i}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:o,body:r};return t.emulatorConfig&&ba(t.emulatorConfig.host)&&(u.credentials="include"),Ra.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Il(t,e){return sr(t,"POST","/v2/accounts:revokeToken",Pa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){j(e.idToken,"internal-error"),j(typeof e.idToken<"u","internal-error"),j(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Js(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){j(e.length!==0,"internal-error");const n=Js(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(j(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Tl(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new It;return r&&(j(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(j(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(j(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new It,this.toJSON())}_performRefresh(){return an("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t,e){j(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ae{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new kl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Hr(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Br(this,this.stsTokenManager.getToken(this.auth,e));return j(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return El(this,e)}reload(){return Al(this)}_assign(e){this!==e&&(j(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ae({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zn(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kt(this.auth.app))return Promise.reject(Un(this.auth));const e=await this.getIdToken();return await Br(this,Sl(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:p,providerData:m,stsTokenManager:y}=n;j(h&&y,e,"internal-error");const v=It.fromJSON(this.name,y);j(typeof h=="string",e,"internal-error"),Ve(r,e.name),Ve(s,e.name),j(typeof f=="boolean",e,"internal-error"),j(typeof p=="boolean",e,"internal-error"),Ve(i,e.name),Ve(a,e.name),Ve(o,e.name),Ve(u,e.name),Ve(c,e.name),Ve(d,e.name);const S=new Ae({uid:h,auth:e,email:s,emailVerified:f,displayName:r,isAnonymous:p,photoURL:a,phoneNumber:i,tenantId:o,stsTokenManager:v,createdAt:c,lastLoginAt:d});return m&&Array.isArray(m)&&(S.providerData=m.map(A=>({...A}))),u&&(S._redirectEventId=u),S}static async _fromIdTokenResponse(e,n,r=!1){const s=new It;s.updateFromServerResponse(n);const i=new Ae({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Zn(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];j(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Ma(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!i?.length,o=new It;o.updateFromIdToken(r);const u=new Ae({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Hr(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new Map;function lt(t){Wn(t instanceof Function,"Expected a class definition");let e=Xs.get(t);return e?(Wn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Xs.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ua.type="NONE";const Ys=Ua;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,e,n){return`firebase:${t}:${e}:${n}`}class Ot{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=yr(this.userKey,s.apiKey,i),this.fullPersistenceKey=yr("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zn(this.auth,{idToken:e}).catch(()=>{});return n?Ae._fromGetAccountInfoResponse(this.auth,n,e):null}return Ae._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ot(lt(Ys),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||lt(Ys);const a=yr(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const d=await c._get(a);if(d){let h;if(typeof d=="string"){const f=await zn(e,{idToken:d}).catch(()=>{});if(!f)break;h=await Ae._fromGetAccountInfoResponse(e,f,d)}else h=Ae._fromJSON(e,d);c!==i&&(o=h),i=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Ot(i,e,r):(i=u[0],o&&await i._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(a)}catch{}})),new Ot(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Nl(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ol(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ll(e))return"Blackberry";if(Ml(e))return"Webos";if(Rl(e))return"Safari";if((e.includes("chrome/")||Pl(e))&&!e.includes("edge/"))return"Chrome";if(Dl(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Ol(t=Oe()){return/firefox\//i.test(t)}function Rl(t=Oe()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Pl(t=Oe()){return/crios\//i.test(t)}function Nl(t=Oe()){return/iemobile/i.test(t)}function Dl(t=Oe()){return/android/i.test(t)}function Ll(t=Oe()){return/blackberry/i.test(t)}function Ml(t=Oe()){return/webos/i.test(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(t,e=[]){let n;switch(t){case"Browser":n=ei(Oe());break;case"Worker":n=`${ei(Oe())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,o)=>{try{const u=e(i);a(u)}catch(u){o(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(t,e={}){return sr(t,"GET","/v2/passwordPolicy",Pa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=6;class $l{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??jl,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ti(this),this.idTokenSubscription=new ti(this),this.beforeStateQueue=new Ul(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ta,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lt(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ot.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zn(this,{idToken:e}),r=await Ae._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(kt(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,a=r?._redirectEventId,o=await this.tryRedirectSignIn(e);(!i||i===a)&&o?.user&&(r=o.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(i){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return j(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zn(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gl()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kt(this.app))return Promise.reject(Un(this));const n=e?rr(e):null;return n&&j(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&j(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kt(this.app)?Promise.reject(Un(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kt(this.app)?Promise.reject(Un(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lt(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Fl(this),n=new $l(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new En("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Il(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&lt(e)||this._popupRedirectResolver;j(n,this,"argument-error"),this.redirectPersistenceManager=await Ot.create(this,[lt(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(j(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(kt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&fl(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Bl(t){return rr(t)}class ti{constructor(e){this.auth=e,this.observer=null,this.addObserver=iu(n=>this.observer=n)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Hl(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(lt);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}new xn(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new xn(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new xn(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new xn(5e3,15e3);var ni="@firebase/auth",ri="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Zl(t){hn(new dn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;j(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fa(t)},c=new Vl(r,s,i,u);return Hl(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hn(new dn("auth-internal",e=>{const n=Bl(e.getProvider("auth").getImmediate());return(r=>new Wl(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tt(ni,ri,zl(t)),Tt(ni,ri,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=300;Qc("authIdTokenMaxAge");Zl("Browser");var Kl="firebase",Ql="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tt(Kl,Ql,"app");const si=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Sr(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},ja=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?si(r.ref,n,t):r.refs&&r.refs.forEach(s=>si(s,n,t))}},Gl=(t,e)=>{e.shouldUseNativeValidation&&ja(t,e);const n={};for(const r in t){const s=Sr(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(Jl(e.names||Object.keys(t),r)){const a=Object.assign({},Sr(n,r));or(a,"root",i),or(n,r,a)}else or(n,r,i)}return n},Jl=(t,e)=>t.some(n=>n.startsWith(e+"."));var Xl=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];n[a]={message:o.message,type:o.code}}else n[a]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return t.push(h)})}),e){var u=n[a].types,c=u&&u[r.code];n[a]=ro(a,e,n,s,c?[].concat(c,r.message):r.message)}t.shift()}return n},Rh=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(a,o){try{var u=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return i.shouldUseNativeValidation&&ja({},i),{errors:{},values:n.raw?r:c}})}catch(c){return o(c)}return u&&u.then?u.then(void 0,o):u}(0,function(a){if(function(o){return Array.isArray(o?.errors)}(a))return{values:{},errors:Gl(Xl(a.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw a}))}catch(a){return Promise.reject(a)}}},F;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(const o of i)a[o]=s[o];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(F||(F={}));var ii;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(ii||(ii={}));const E=F.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),He=t=>{switch(typeof t){case"undefined":return E.undefined;case"string":return E.string;case"number":return Number.isNaN(t)?E.nan:E.number;case"boolean":return E.boolean;case"function":return E.function;case"bigint":return E.bigint;case"symbol":return E.symbol;case"object":return Array.isArray(t)?E.array:t===null?E.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?E.promise:typeof Map<"u"&&t instanceof Map?E.map:typeof Set<"u"&&t instanceof Set?E.set:typeof Date<"u"&&t instanceof Date?E.date:E.object;default:return E.unknown}},g=F.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class $e extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,u=0;for(;u<a.path.length;){const c=a.path[u];u===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(n(a))):o[c]=o[c]||{_errors:[]},o=o[c],u++}}};return s(this),r}static assert(e){if(!(e instanceof $e))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,F.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}$e.create=t=>new $e(t);const Wr=(t,e)=>{let n;switch(t.code){case g.invalid_type:t.received===E.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case g.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,F.jsonStringifyReplacer)}`;break;case g.unrecognized_keys:n=`Unrecognized key(s) in object: ${F.joinValues(t.keys,", ")}`;break;case g.invalid_union:n="Invalid input";break;case g.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${F.joinValues(t.options)}`;break;case g.invalid_enum_value:n=`Invalid enum value. Expected ${F.joinValues(t.options)}, received '${t.received}'`;break;case g.invalid_arguments:n="Invalid function arguments";break;case g.invalid_return_type:n="Invalid function return type";break;case g.invalid_date:n="Invalid date";break;case g.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:F.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case g.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case g.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case g.custom:n="Invalid input";break;case g.invalid_intersection_types:n="Intersection results could not be merged";break;case g.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case g.not_finite:n="Number must be finite";break;default:n=e.defaultError,F.assertNever(t)}return{message:n}};let Yl=Wr;function ed(){return Yl}const td=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="";const u=r.filter(c=>!!c).slice().reverse();for(const c of u)o=c(a,{data:e,defaultError:o}).message;return{...s,path:i,message:o}};function w(t,e){const n=ed(),r=td({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Wr?void 0:Wr].filter(s=>!!s)});t.common.issues.push(r)}class he{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return I;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return he.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return I;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const I=Object.freeze({status:"aborted"}),nn=t=>({status:"dirty",value:t}),ge=t=>({status:"valid",value:t}),ai=t=>t.status==="aborted",oi=t=>t.status==="dirty",Zt=t=>t.status==="valid",qn=t=>typeof Promise<"u"&&t instanceof Promise;var x;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(x||(x={}));class at{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ci=(t,e)=>{if(Zt(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new $e(t.common.issues);return this._error=n,this._error}}};function L(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,o)=>{const{message:u}=t;return a.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:u??r??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:u??n??o.defaultError}},description:s}}class U{get description(){return this._def.description}_getType(e){return He(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:He(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new he,ctx:{common:e.parent.common,data:e.data,parsedType:He(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(qn(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:He(e)},s=this._parseSync({data:e,path:r.path,parent:r});return ci(r,s)}"~validate"(e){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:He(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:n});return Zt(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(r=>Zt(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:He(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(qn(s)?s:Promise.resolve(s));return ci(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=e(s),o=()=>i.addIssue({code:g.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Kt({schema:this,typeName:O.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return rt.create(this,this._def)}nullable(){return Qt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Te.create(this)}promise(){return Jn.create(this,this._def)}or(e){return Qn.create([this,e],this._def)}and(e){return Gn.create(this,e,this._def)}transform(e){return new Kt({...L(this._def),schema:this,typeName:O.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Zr({...L(this._def),innerType:this,defaultValue:n,typeName:O.ZodDefault})}brand(){return new xd({typeName:O.ZodBranded,type:this,...L(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new qr({...L(this._def),innerType:this,catchValue:n,typeName:O.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return ps.create(this,e)}readonly(){return Kr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const nd=/^c[^\s-]{8,}$/i,rd=/^[0-9a-z]+$/,sd=/^[0-9A-HJKMNP-TV-Z]{26}$/i,id=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ad=/^[a-z0-9_-]{21}$/i,od=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,cd=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ud=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ld="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let vr;const dd=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hd=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,fd=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,pd=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,md=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,gd=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,$a="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",yd=new RegExp(`^${$a}$`);function Va(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function vd(t){return new RegExp(`^${Va(t)}$`)}function _d(t){let e=`${$a}T${Va(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function bd(t,e){return!!((e==="v4"||!e)&&dd.test(t)||(e==="v6"||!e)&&fd.test(t))}function wd(t,e){if(!od.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function Sd(t,e){return!!((e==="v4"||!e)&&hd.test(t)||(e==="v6"||!e)&&pd.test(t))}class et extends U{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==E.string){const i=this._getOrReturnCtx(e);return w(i,{code:g.invalid_type,expected:E.string,received:i.parsedType}),I}const r=new he;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),w(s,{code:g.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),w(s,{code:g.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(e,s),a?w(s,{code:g.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&w(s,{code:g.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")ud.test(e.data)||(s=this._getOrReturnCtx(e,s),w(s,{validation:"email",code:g.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")vr||(vr=new RegExp(ld,"u")),vr.test(e.data)||(s=this._getOrReturnCtx(e,s),w(s,{validation:"emoji",code:g.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")id.test(e.data)||(s=this._getOrReturnCtx(e,s),w(s,{validation:"uuid",code:g.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")ad.test(e.data)||(s=this._getOrReturnCtx(e,s),w(s,{validation:"nanoid",code:g.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")nd.test(e.data)||(s=this._getOrReturnCtx(e,s),w(s,{validation:"cuid",code:g.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")rd.test(e.data)||(s=this._getOrReturnCtx(e,s),w(s,{validation:"cuid2",code:g.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")sd.test(e.data)||(s=this._getOrReturnCtx(e,s),w(s,{validation:"ulid",code:g.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),w(s,{validation:"url",code:g.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),w(s,{validation:"regex",code:g.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),w(s,{code:g.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),w(s,{code:g.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),w(s,{code:g.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?_d(i).test(e.data)||(s=this._getOrReturnCtx(e,s),w(s,{code:g.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?yd.test(e.data)||(s=this._getOrReturnCtx(e,s),w(s,{code:g.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?vd(i).test(e.data)||(s=this._getOrReturnCtx(e,s),w(s,{code:g.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?cd.test(e.data)||(s=this._getOrReturnCtx(e,s),w(s,{validation:"duration",code:g.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?bd(e.data,i.version)||(s=this._getOrReturnCtx(e,s),w(s,{validation:"ip",code:g.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?wd(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),w(s,{validation:"jwt",code:g.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?Sd(e.data,i.version)||(s=this._getOrReturnCtx(e,s),w(s,{validation:"cidr",code:g.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?md.test(e.data)||(s=this._getOrReturnCtx(e,s),w(s,{validation:"base64",code:g.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?gd.test(e.data)||(s=this._getOrReturnCtx(e,s),w(s,{validation:"base64url",code:g.invalid_string,message:i.message}),r.dirty()):F.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:g.invalid_string,...x.errToObj(r)})}_addCheck(e){return new et({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...x.errToObj(e)})}url(e){return this._addCheck({kind:"url",...x.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...x.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...x.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...x.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...x.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...x.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...x.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...x.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...x.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...x.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...x.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...x.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...x.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...x.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...x.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...x.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...x.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...x.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...x.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...x.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...x.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...x.errToObj(n)})}nonempty(e){return this.min(1,x.errToObj(e))}trim(){return new et({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new et({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new et({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}et.create=t=>new et({checks:[],typeName:O.ZodString,coerce:t?.coerce??!1,...L(t)});function Ed(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(t.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return i%a/10**s}class pn extends U{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==E.number){const i=this._getOrReturnCtx(e);return w(i,{code:g.invalid_type,expected:E.number,received:i.parsedType}),I}let r;const s=new he;for(const i of this._def.checks)i.kind==="int"?F.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),w(r,{code:g.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),w(r,{code:g.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),w(r,{code:g.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Ed(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),w(r,{code:g.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),w(r,{code:g.not_finite,message:i.message}),s.dirty()):F.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,x.toString(n))}gt(e,n){return this.setLimit("min",e,!1,x.toString(n))}lte(e,n){return this.setLimit("max",e,!0,x.toString(n))}lt(e,n){return this.setLimit("max",e,!1,x.toString(n))}setLimit(e,n,r,s){return new pn({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:x.toString(s)}]})}_addCheck(e){return new pn({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:x.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:x.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:x.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:x.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:x.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:x.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:x.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:x.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:x.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&F.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}pn.create=t=>new pn({checks:[],typeName:O.ZodNumber,coerce:t?.coerce||!1,...L(t)});class mn extends U{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==E.bigint)return this._getInvalidInput(e);let r;const s=new he;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),w(r,{code:g.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),w(r,{code:g.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),w(r,{code:g.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):F.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return w(n,{code:g.invalid_type,expected:E.bigint,received:n.parsedType}),I}gte(e,n){return this.setLimit("min",e,!0,x.toString(n))}gt(e,n){return this.setLimit("min",e,!1,x.toString(n))}lte(e,n){return this.setLimit("max",e,!0,x.toString(n))}lt(e,n){return this.setLimit("max",e,!1,x.toString(n))}setLimit(e,n,r,s){return new mn({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:x.toString(s)}]})}_addCheck(e){return new mn({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:x.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:x.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:x.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:x.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:x.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}mn.create=t=>new mn({checks:[],typeName:O.ZodBigInt,coerce:t?.coerce??!1,...L(t)});class ui extends U{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==E.boolean){const r=this._getOrReturnCtx(e);return w(r,{code:g.invalid_type,expected:E.boolean,received:r.parsedType}),I}return ge(e.data)}}ui.create=t=>new ui({typeName:O.ZodBoolean,coerce:t?.coerce||!1,...L(t)});class Kn extends U{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==E.date){const i=this._getOrReturnCtx(e);return w(i,{code:g.invalid_type,expected:E.date,received:i.parsedType}),I}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return w(i,{code:g.invalid_date}),I}const r=new he;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),w(s,{code:g.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),w(s,{code:g.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):F.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Kn({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:x.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:x.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Kn.create=t=>new Kn({checks:[],coerce:t?.coerce||!1,typeName:O.ZodDate,...L(t)});class li extends U{_parse(e){if(this._getType(e)!==E.symbol){const r=this._getOrReturnCtx(e);return w(r,{code:g.invalid_type,expected:E.symbol,received:r.parsedType}),I}return ge(e.data)}}li.create=t=>new li({typeName:O.ZodSymbol,...L(t)});class di extends U{_parse(e){if(this._getType(e)!==E.undefined){const r=this._getOrReturnCtx(e);return w(r,{code:g.invalid_type,expected:E.undefined,received:r.parsedType}),I}return ge(e.data)}}di.create=t=>new di({typeName:O.ZodUndefined,...L(t)});class hi extends U{_parse(e){if(this._getType(e)!==E.null){const r=this._getOrReturnCtx(e);return w(r,{code:g.invalid_type,expected:E.null,received:r.parsedType}),I}return ge(e.data)}}hi.create=t=>new hi({typeName:O.ZodNull,...L(t)});class fi extends U{constructor(){super(...arguments),this._any=!0}_parse(e){return ge(e.data)}}fi.create=t=>new fi({typeName:O.ZodAny,...L(t)});class pi extends U{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ge(e.data)}}pi.create=t=>new pi({typeName:O.ZodUnknown,...L(t)});class ot extends U{_parse(e){const n=this._getOrReturnCtx(e);return w(n,{code:g.invalid_type,expected:E.never,received:n.parsedType}),I}}ot.create=t=>new ot({typeName:O.ZodNever,...L(t)});class mi extends U{_parse(e){if(this._getType(e)!==E.undefined){const r=this._getOrReturnCtx(e);return w(r,{code:g.invalid_type,expected:E.void,received:r.parsedType}),I}return ge(e.data)}}mi.create=t=>new mi({typeName:O.ZodVoid,...L(t)});class Te extends U{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==E.array)return w(n,{code:g.invalid_type,expected:E.array,received:n.parsedType}),I;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,o=n.data.length<s.exactLength.value;(a||o)&&(w(n,{code:a?g.too_big:g.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(w(n,{code:g.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(w(n,{code:g.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>s.type._parseAsync(new at(n,a,n.path,o)))).then(a=>he.mergeArray(r,a));const i=[...n.data].map((a,o)=>s.type._parseSync(new at(n,a,n.path,o)));return he.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new Te({...this._def,minLength:{value:e,message:x.toString(n)}})}max(e,n){return new Te({...this._def,maxLength:{value:e,message:x.toString(n)}})}length(e,n){return new Te({...this._def,exactLength:{value:e,message:x.toString(n)}})}nonempty(e){return this.min(1,e)}}Te.create=(t,e)=>new Te({type:t,minLength:null,maxLength:null,exactLength:null,typeName:O.ZodArray,...L(e)});function At(t){if(t instanceof G){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=rt.create(At(r))}return new G({...t._def,shape:()=>e})}else return t instanceof Te?new Te({...t._def,type:At(t.element)}):t instanceof rt?rt.create(At(t.unwrap())):t instanceof Qt?Qt.create(At(t.unwrap())):t instanceof St?St.create(t.items.map(e=>At(e))):t}class G extends U{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=F.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==E.object){const c=this._getOrReturnCtx(e);return w(c,{code:g.invalid_type,expected:E.object,received:c.parsedType}),I}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof ot&&this._def.unknownKeys==="strip"))for(const c in s.data)a.includes(c)||o.push(c);const u=[];for(const c of a){const d=i[c],h=s.data[c];u.push({key:{status:"valid",value:c},value:d._parse(new at(s,h,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof ot){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of o)u.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(c==="strict")o.length>0&&(w(s,{code:g.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of o){const h=s.data[d];u.push({key:{status:"valid",value:d},value:c._parse(new at(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of u){const h=await d.key,f=await d.value;c.push({key:h,value:f,alwaysSet:d.alwaysSet})}return c}).then(c=>he.mergeObjectSync(r,c)):he.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return x.errToObj,new G({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{const s=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:x.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new G({...this._def,unknownKeys:"strip"})}passthrough(){return new G({...this._def,unknownKeys:"passthrough"})}extend(e){return new G({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new G({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:O.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new G({...this._def,catchall:e})}pick(e){const n={};for(const r of F.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new G({...this._def,shape:()=>n})}omit(e){const n={};for(const r of F.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new G({...this._def,shape:()=>n})}deepPartial(){return At(this)}partial(e){const n={};for(const r of F.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new G({...this._def,shape:()=>n})}required(e){const n={};for(const r of F.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof rt;)i=i._def.innerType;n[r]=i}return new G({...this._def,shape:()=>n})}keyof(){return Ba(F.objectKeys(this.shape))}}G.create=(t,e)=>new G({shape:()=>t,unknownKeys:"strip",catchall:ot.create(),typeName:O.ZodObject,...L(e)});G.strictCreate=(t,e)=>new G({shape:()=>t,unknownKeys:"strict",catchall:ot.create(),typeName:O.ZodObject,...L(e)});G.lazycreate=(t,e)=>new G({shape:t,unknownKeys:"strip",catchall:ot.create(),typeName:O.ZodObject,...L(e)});class Qn extends U{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new $e(o.ctx.common.issues));return w(n,{code:g.invalid_union,unionErrors:a}),I}if(n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const u of r){const c={...n,common:{...n.common,issues:[]},parent:null},d=u._parseSync({data:n.data,path:n.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(u=>new $e(u));return w(n,{code:g.invalid_union,unionErrors:o}),I}}get options(){return this._def.options}}Qn.create=(t,e)=>new Qn({options:t,typeName:O.ZodUnion,...L(e)});function zr(t,e){const n=He(t),r=He(e);if(t===e)return{valid:!0,data:t};if(n===E.object&&r===E.object){const s=F.objectKeys(e),i=F.objectKeys(t).filter(o=>s.indexOf(o)!==-1),a={...t,...e};for(const o of i){const u=zr(t[o],e[o]);if(!u.valid)return{valid:!1};a[o]=u.data}return{valid:!0,data:a}}else if(n===E.array&&r===E.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],o=e[i],u=zr(a,o);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return n===E.date&&r===E.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Gn extends U{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,a)=>{if(ai(i)||ai(a))return I;const o=zr(i.value,a.value);return o.valid?((oi(i)||oi(a))&&n.dirty(),{status:n.value,value:o.data}):(w(r,{code:g.invalid_intersection_types}),I)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Gn.create=(t,e,n)=>new Gn({left:t,right:e,typeName:O.ZodIntersection,...L(n)});class St extends U{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==E.array)return w(r,{code:g.invalid_type,expected:E.array,received:r.parsedType}),I;if(r.data.length<this._def.items.length)return w(r,{code:g.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),I;!this._def.rest&&r.data.length>this._def.items.length&&(w(r,{code:g.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,o)=>{const u=this._def.items[o]||this._def.rest;return u?u._parse(new at(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>he.mergeArray(n,a)):he.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new St({...this._def,rest:e})}}St.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new St({items:t,typeName:O.ZodTuple,rest:null,...L(e)})};class gi extends U{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==E.map)return w(r,{code:g.invalid_type,expected:E.map,received:r.parsedType}),I;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([o,u],c)=>({key:s._parse(new at(r,o,r.path,[c,"key"])),value:i._parse(new at(r,u,r.path,[c,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const u of a){const c=await u.key,d=await u.value;if(c.status==="aborted"||d.status==="aborted")return I;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(c.value,d.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const u of a){const c=u.key,d=u.value;if(c.status==="aborted"||d.status==="aborted")return I;(c.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(c.value,d.value)}return{status:n.value,value:o}}}}gi.create=(t,e,n)=>new gi({valueType:e,keyType:t,typeName:O.ZodMap,...L(n)});class gn extends U{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==E.set)return w(r,{code:g.invalid_type,expected:E.set,received:r.parsedType}),I;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(w(r,{code:g.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(w(r,{code:g.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(u){const c=new Set;for(const d of u){if(d.status==="aborted")return I;d.status==="dirty"&&n.dirty(),c.add(d.value)}return{status:n.value,value:c}}const o=[...r.data.values()].map((u,c)=>i._parse(new at(r,u,r.path,c)));return r.common.async?Promise.all(o).then(u=>a(u)):a(o)}min(e,n){return new gn({...this._def,minSize:{value:e,message:x.toString(n)}})}max(e,n){return new gn({...this._def,maxSize:{value:e,message:x.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}gn.create=(t,e)=>new gn({valueType:t,minSize:null,maxSize:null,typeName:O.ZodSet,...L(e)});class yi extends U{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}yi.create=(t,e)=>new yi({getter:t,typeName:O.ZodLazy,...L(e)});class vi extends U{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return w(n,{received:n.data,code:g.invalid_literal,expected:this._def.value}),I}return{status:"valid",value:e.data}}get value(){return this._def.value}}vi.create=(t,e)=>new vi({value:t,typeName:O.ZodLiteral,...L(e)});function Ba(t,e){return new qt({values:t,typeName:O.ZodEnum,...L(e)})}class qt extends U{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return w(n,{expected:F.joinValues(r),received:n.parsedType,code:g.invalid_type}),I}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return w(n,{received:n.data,code:g.invalid_enum_value,options:r}),I}return ge(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return qt.create(e,{...this._def,...n})}exclude(e,n=this._def){return qt.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}qt.create=Ba;class _i extends U{_parse(e){const n=F.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==E.string&&r.parsedType!==E.number){const s=F.objectValues(n);return w(r,{expected:F.joinValues(s),received:r.parsedType,code:g.invalid_type}),I}if(this._cache||(this._cache=new Set(F.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=F.objectValues(n);return w(r,{received:r.data,code:g.invalid_enum_value,options:s}),I}return ge(e.data)}get enum(){return this._def.values}}_i.create=(t,e)=>new _i({values:t,typeName:O.ZodNativeEnum,...L(e)});class Jn extends U{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==E.promise&&n.common.async===!1)return w(n,{code:g.invalid_type,expected:E.promise,received:n.parsedType}),I;const r=n.parsedType===E.promise?n.data:Promise.resolve(n.data);return ge(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Jn.create=(t,e)=>new Jn({type:t,typeName:O.ZodPromise,...L(e)});class Kt extends U{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===O.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:a=>{w(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return I;const u=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return u.status==="aborted"?I:u.status==="dirty"||n.value==="dirty"?nn(u.value):u});{if(n.value==="aborted")return I;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?I:o.status==="dirty"||n.value==="dirty"?nn(o.value):o}}if(s.type==="refinement"){const a=o=>{const u=s.refinement(o,i);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?I:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?I:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Zt(a))return I;const o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Zt(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:n.value,value:o})):I);F.assertNever(s)}}Kt.create=(t,e,n)=>new Kt({schema:t,typeName:O.ZodEffects,effect:e,...L(n)});Kt.createWithPreprocess=(t,e,n)=>new Kt({schema:e,effect:{type:"preprocess",transform:t},typeName:O.ZodEffects,...L(n)});class rt extends U{_parse(e){return this._getType(e)===E.undefined?ge(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}rt.create=(t,e)=>new rt({innerType:t,typeName:O.ZodOptional,...L(e)});class Qt extends U{_parse(e){return this._getType(e)===E.null?ge(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qt.create=(t,e)=>new Qt({innerType:t,typeName:O.ZodNullable,...L(e)});class Zr extends U{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===E.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Zr.create=(t,e)=>new Zr({innerType:t,typeName:O.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...L(e)});class qr extends U{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return qn(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new $e(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new $e(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}qr.create=(t,e)=>new qr({innerType:t,typeName:O.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...L(e)});class bi extends U{_parse(e){if(this._getType(e)!==E.nan){const r=this._getOrReturnCtx(e);return w(r,{code:g.invalid_type,expected:E.nan,received:r.parsedType}),I}return{status:"valid",value:e.data}}}bi.create=t=>new bi({typeName:O.ZodNaN,...L(t)});class xd extends U{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class ps extends U{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?I:i.status==="dirty"?(n.dirty(),nn(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?I:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new ps({in:e,out:n,typeName:O.ZodPipeline})}}class Kr extends U{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Zt(s)&&(s.value=Object.freeze(s.value)),s);return qn(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Kr.create=(t,e)=>new Kr({innerType:t,typeName:O.ZodReadonly,...L(e)});var O;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(O||(O={}));const Ph=et.create;ot.create;Te.create;const Nh=G.create;Qn.create;Gn.create;St.create;qt.create;Jn.create;rt.create;Qt.create;var Xn=function(){return Xn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Xn.apply(this,arguments)};function kd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Dh(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function _r(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Ad(t,e){var n=q.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Cd=typeof window<"u"?q.useLayoutEffect:q.useEffect,wi=new WeakMap;function Lh(t,e){var n=Ad(null,function(r){return t.forEach(function(s){return _r(s,r)})});return Cd(function(){var r=wi.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(o){i.has(o)||_r(o,null)}),i.forEach(function(o){s.has(o)||_r(o,a)})}wi.set(n,t)},[t]),n}function Td(t){return t}function Id(t,e){e===void 0&&(e=Td);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(o){return i(o)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(i),a=n}var u=function(){var d=a;a=[],d.forEach(i)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(d){a.push(d),c()},filter:function(d){return a=a.filter(d),n}}}};return s}function Mh(t){t===void 0&&(t={});var e=Id(null);return e.options=Xn({async:!0,ssr:!1},t),e}var Ha=function(t){var e=t.sideCar,n=kd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return q.createElement(r,Xn({},n))};Ha.isSideCarExport=!0;function Uh(t,e){return t.useMedium(e),Ha}var Fh=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__},Od=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},xt=new WeakMap,Rn=new WeakMap,Pn={},br=0,Wa=function(t){return t&&(t.host||Wa(t.parentNode))},Rd=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Wa(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Pd=function(t,e,n,r){var s=Rd(e,Array.isArray(t)?t:[t]);Pn[n]||(Pn[n]=new WeakMap);var i=Pn[n],a=[],o=new Set,u=new Set(s),c=function(h){!h||o.has(h)||(o.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(f){if(o.has(f))d(f);else try{var p=f.getAttribute(r),m=p!==null&&p!=="false",y=(xt.get(f)||0)+1,v=(i.get(f)||0)+1;xt.set(f,y),i.set(f,v),a.push(f),y===1&&m&&Rn.set(f,!0),v===1&&f.setAttribute(n,"true"),m||f.setAttribute(r,"true")}catch(S){console.error("aria-hidden: cannot operate on ",f,S)}})};return d(e),o.clear(),br++,function(){a.forEach(function(h){var f=xt.get(h)-1,p=i.get(h)-1;xt.set(h,f),i.set(h,p),f||(Rn.has(h)||h.removeAttribute(r),Rn.delete(h)),p||h.removeAttribute(n)}),br--,br||(xt=new WeakMap,xt=new WeakMap,Rn=new WeakMap,Pn={})}},jh=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Od(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),Pd(r,s,n,"aria-hidden")):function(){return null}};const Nd=t=>t;let $h=Nd;function za(t){let e;return()=>(e===void 0&&(e=t()),e)}const Dd=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Vh=t=>t*1e3,Bh=t=>t/1e3,Ld=za(()=>window.ScrollTimeline!==void 0);class Md{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(Ld()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Hh extends Md{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Wh(t,e){return t?t[e]||t.default||t:void 0}const Si=2e4;function zh(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Si;)e+=n,r=t.next(e);return e>=Si?1/0:e}function Zh(t){return typeof t=="function"}function qh(t,e){t.timeline=e,t.onfinish=null}const Za=t=>Array.isArray(t)&&typeof t[0]=="number",Ud={linearEasing:void 0};function Fd(t,e){const n=za(t);return()=>{var r;return(r=Ud[e])!==null&&r!==void 0?r:n()}}const Qr=Fd(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jd=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(Dd(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function $d(t){return!!(typeof t=="function"&&Qr()||!t||typeof t=="string"&&(t in Gr||Qr())||Za(t)||Array.isArray(t)&&t.every($d))}const rn=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Gr={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:rn([0,.65,.55,1]),circOut:rn([.55,0,1,.45]),backIn:rn([.31,.01,.66,-.59]),backOut:rn([.33,1.53,.69,.99])};function Vd(t,e){if(t)return typeof t=="function"&&Qr()?jd(t,e):Za(t)?rn(t):Array.isArray(t)?t.map(n=>Vd(n,e)||Gr.easeOut):Gr[t]}const ye={x:!1,y:!1};function qa(){return ye.x||ye.y}function Bd(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function Ka(t,e){const n=Bd(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Ei(t){return e=>{e.pointerType==="touch"||qa()||t(e)}}function Kh(t,e,n={}){const[r,s,i]=Ka(t,n),a=Ei(o=>{const{target:u}=o,c=e(o);if(typeof c!="function"||!u)return;const d=Ei(h=>{c(h),u.removeEventListener("pointerleave",d)});u.addEventListener("pointerleave",d,s)});return r.forEach(o=>{o.addEventListener("pointerenter",a,s)}),i}const Qa=(t,e)=>e?t===e?!0:Qa(t,e.parentElement):!1,Hd=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Wd=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zd(t){return Wd.has(t.tagName)||t.tabIndex!==-1}const sn=new WeakSet;function xi(t){return e=>{e.key==="Enter"&&t(e)}}function wr(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Zd=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=xi(()=>{if(sn.has(n))return;wr(n,"down");const s=xi(()=>{wr(n,"up")}),i=()=>wr(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function ki(t){return Hd(t)&&!qa()}function Qh(t,e,n={}){const[r,s,i]=Ka(t,n),a=o=>{const u=o.currentTarget;if(!ki(o)||sn.has(u))return;sn.add(u);const c=e(o),d=(p,m)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!ki(p)||!sn.has(u))&&(sn.delete(u),typeof c=="function"&&c(p,{success:m}))},h=p=>{d(p,n.useGlobalTarget||Qa(u,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(o=>{!zd(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),o.addEventListener("focus",c=>Zd(c,s),s)}),i}function Gh(t){return t==="x"||t==="y"?ye[t]?null:(ye[t]=!0,()=>{ye[t]=!1}):ye.x||ye.y?null:(ye.x=ye.y=!0,()=>{ye.x=ye.y=!1})}var Ga="basil",qd=function(e){return e===3?"v3":e},Ja="https://js.stripe.com",Kd="".concat(Ja,"/").concat(Ga,"/stripe.js"),Qd=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Gd=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var Jd=function(e){return Qd.test(e)||Gd.test(e)},Xd=function(){for(var e=document.querySelectorAll('script[src^="'.concat(Ja,'"]')),n=0;n<e.length;n++){var r=e[n];if(Jd(r.src))return r}return null},Ai=function(e){var n="",r=document.createElement("script");r.src="".concat(Kd).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},Yd=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.8.0",startTime:n})},Yt=null,Nn=null,Dn=null,eh=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},th=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},nh=function(e){return Yt!==null?Yt:(Yt=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var s=Xd();if(!(s&&e)){if(!s)s=Ai(e);else if(s&&Dn!==null&&Nn!==null){var i;s.removeEventListener("load",Dn),s.removeEventListener("error",Nn),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=Ai(e)}}Dn=th(n,r),Nn=eh(r),s.addEventListener("load",Dn),s.addEventListener("error",Nn)}catch(a){r(a);return}}),Yt.catch(function(n){return Yt=null,Promise.reject(n)}))},rh=function(e,n,r){if(e===null)return null;var s=n[0],i=s.match(/^pk_test/),a=qd(e.version),o=Ga;i&&a!==o&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("7.8.0"," expected Stripe.js@").concat(o,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var u=e.apply(void 0,n);return Yd(u,r),u},en,Xa=!1,Ya=function(){return en||(en=nh(null).catch(function(e){return en=null,Promise.reject(e)}),en)};Promise.resolve().then(function(){return Ya()}).catch(function(t){Xa||console.warn(t)});var Jh=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];Xa=!0;var s=Date.now();return Ya().then(function(i){return rh(i,n,s)})},eo={exports:{}},sh="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ih=sh,ah=ih;function to(){}function no(){}no.resetWarningCache=to;var oh=function(){function t(r,s,i,a,o,u){if(u!==ah){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:no,resetWarningCache:to};return n.PropTypes=n,n};eo.exports=oh();var ch=eo.exports;const Xh=so(ch);export{gh as $,Si as A,jd as B,Za as C,$h as D,Dd as E,Vd as F,za as G,Qr as H,qh as I,$d as J,Wh as K,Hh as L,bh as M,Hd as N,Gh as O,Xh as P,_h as Q,Kh as R,Qh as S,vh as T,wh as U,fh as V,Nh as W,Ph as X,mh as Y,Rh as Z,kd as _,yh as a,ph as a0,Jh as a1,pe as b,Oh as c,xh as d,Ah as e,kh as f,Th as g,Ch as h,Wt as i,Sh as j,Mh as k,Ih as l,Xn as m,te as n,Eh as o,Fh as p,Dh as q,Uh as r,hh as s,jh as t,Lh as u,Nd as v,Zh as w,Bh as x,Vh as y,zh as z};
